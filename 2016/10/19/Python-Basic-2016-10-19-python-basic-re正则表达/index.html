<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>python-basic~re正则表达式 | WiZero</title>
  <meta name="author" content="Wlin">
  
  <meta name="description" content="[Toc]

Pythondoc  regex
Pythondoc 3p5 re

匹配的规则选项
re.ASCII , A : \w,\b,\s只匹配ASCII字符而不是full unicode。This is only meaningful for Unicode patterns, and i">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="python-basic~re正则表达式"/>
  <meta property="og:site_name" content="WiZero"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  <link rel="alternate" href="/hexo_blog/atom.xml" title="WiZero" type="application/atom+xml">
  <link rel="stylesheet" href="/hexo_blog/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <meta name="wumiiVerification" content="fb50a101-84fe-4ca2-91a7-ae8cf792978b" />
  
  <meta name="wumiiVerification" content="d73b5866-c390-4156-a4dd-51b526b5335e" />
</head>

<body>
  <header id="header">
<div class= "header-content inner">
	<div class = "alignleft col-one">
		
			<div class='avatar'>
				<img src = "/hexo_blog/images/site/lufy-avatar.jpg">
              </div>
		
		<div class="header-div">
		    <h1><a href="/hexo_blog/">WiZero</a></h1>
		    <h2><a href="/hexo_blog/">阅读，思考，实践，不忘初心</a></h2>
		</div>
	</div>
	<div class = "alignright col-two">
		
	</div>
	<div class="clearfix"></div>
</div>

<div class= "header-nav">
	<div class='header-nav-content inner'>
		<div id="main-nav" class="alignleft">
			<ul>
		    		
		    		  <li><a href="/hexo_blog/./">首页</a></li>
		    		
		    		  <li><a href="/hexo_blog/archives">归档</a></li>
		    		
		    	</ul>
		</div>
		<div id="sub-nav" class="alignright">
     	 <ul>
		    
		      <li><a href="/hexo_blog/atom.xml">订阅</a></li>
		    
		      <li><a href="/hexo_blog/customization">留言</a></li>
		    
     	 </ul>
		</div>
	</div>
	<div class="clearfix"></div>
</div>
</header>
  
    <div id="content" class="inner">
      <div id="main-col" class="alignleft"><div id="wrapper">
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> post </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#匹配的规则选项"><span class="toc-number">1.</span> <span class="toc-text">匹配的规则选项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#flag语法"><span class="toc-number">1.1.</span> <span class="toc-text">flag语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用限定符及贪婪greedy匹配"><span class="toc-number">2.</span> <span class="toc-text">常用限定符及贪婪greedy匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#贪婪"><span class="toc-number">2.1.</span> <span class="toc-text">贪婪</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#非贪婪"><span class="toc-number">2.2.</span> <span class="toc-text">非贪婪</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#特殊符号的匹配"><span class="toc-number">2.3.</span> <span class="toc-text">特殊符号的匹配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#group-分组匹配"><span class="toc-number">3.</span> <span class="toc-text">group 分组匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#分组的嵌套"><span class="toc-number">3.1.</span> <span class="toc-text">分组的嵌套</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展匹配"><span class="toc-number">3.2.</span> <span class="toc-text">扩展匹配(?...)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#前后相匹配"><span class="toc-number">3.3.</span> <span class="toc-text">前后相匹配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-查找"><span class="toc-number">4.</span> <span class="toc-text">re Function 查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-引用"><span class="toc-number">5.</span> <span class="toc-text">re Function 引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-修改"><span class="toc-number">6.</span> <span class="toc-text">re Function 修改</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#re-split-应用"><span class="toc-number">6.1.</span> <span class="toc-text">re.split()应用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#re-sub-正则替换"><span class="toc-number">6.2.</span> <span class="toc-text">re.sub() 正则替换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#re-subn"><span class="toc-number">6.3.</span> <span class="toc-text">re.subn()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tips"><span class="toc-number">7.</span> <span class="toc-text">Tips</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#附录"><span class="toc-number"></span> <span class="toc-text">附录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#re-VERBOSE-正则表达式的可读性"><span class="toc-number">1.</span> <span class="toc-text">re.VERBOSE 正则表达式的可读性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#部分替换"><span class="toc-number">2.</span> <span class="toc-text">部分替换</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-10-19T09:51:00.000Z"><a href="/hexo_blog/2016/10/19/Python-Basic-2016-10-19-python-basic-re正则表达/">2016-10-19</a></time>
        
  
    <h1 class="title">python-basic~re正则表达式</h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> post </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#匹配的规则选项"><span class="toc-number">1.</span> <span class="toc-text">匹配的规则选项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#flag语法"><span class="toc-number">1.1.</span> <span class="toc-text">flag语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用限定符及贪婪greedy匹配"><span class="toc-number">2.</span> <span class="toc-text">常用限定符及贪婪greedy匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#贪婪"><span class="toc-number">2.1.</span> <span class="toc-text">贪婪</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#非贪婪"><span class="toc-number">2.2.</span> <span class="toc-text">非贪婪</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#特殊符号的匹配"><span class="toc-number">2.3.</span> <span class="toc-text">特殊符号的匹配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#group-分组匹配"><span class="toc-number">3.</span> <span class="toc-text">group 分组匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#分组的嵌套"><span class="toc-number">3.1.</span> <span class="toc-text">分组的嵌套</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展匹配"><span class="toc-number">3.2.</span> <span class="toc-text">扩展匹配(?...)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#前后相匹配"><span class="toc-number">3.3.</span> <span class="toc-text">前后相匹配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-查找"><span class="toc-number">4.</span> <span class="toc-text">re Function 查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-引用"><span class="toc-number">5.</span> <span class="toc-text">re Function 引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-修改"><span class="toc-number">6.</span> <span class="toc-text">re Function 修改</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#re-split-应用"><span class="toc-number">6.1.</span> <span class="toc-text">re.split()应用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#re-sub-正则替换"><span class="toc-number">6.2.</span> <span class="toc-text">re.sub() 正则替换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#re-subn"><span class="toc-number">6.3.</span> <span class="toc-text">re.subn()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tips"><span class="toc-number">7.</span> <span class="toc-text">Tips</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#附录"><span class="toc-number"></span> <span class="toc-text">附录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#re-VERBOSE-正则表达式的可读性"><span class="toc-number">1.</span> <span class="toc-text">re.VERBOSE 正则表达式的可读性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#部分替换"><span class="toc-number">2.</span> <span class="toc-text">部分替换</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<ol>
<li><a href="https://docs.python.org/3/howto/regex.html" target="_blank" rel="external">Pythondoc  regex</a></li>
<li><a href="https://docs.python.org/3.5/library/re.html" target="_blank" rel="external">Pythondoc 3p5 re</a></li>
</ol>
<h3 id="匹配的规则选项"><a href="#匹配的规则选项" class="headerlink" title="匹配的规则选项"></a><span id="flag">匹配的规则选项</span></h3><ul>
<li>re.ASCII , A : <code>\w</code>,<code>\b</code>,<code>\s</code>只匹配ASCII字符而不是full unicode。This is only meaningful for Unicode patterns, and is ignored for byte patterns.</li>
<li>re.IGNORECASE , I : 忽略大小写</li>
<li>re.MULTILINE , M : 多行模式的匹配</li>
<li>re.DOTALL , S : dot matches all<ul>
<li><code>.</code>匹配除换行符<code>\n</code>外的人艺字符，如果设置了<code>re.DOTALL</code>模式，将包含匹配换行符</li>
</ul>
</li>
<li>re.VERBOSE , X : 忽略正则表达式中的空白，换行，方便添加注释#，正则表达式的可读性, <a href="#jump">例子</a></li>
<li>re.LOCALE , L : 字符集本地化，用于多语言环境</li>
</ul>
<h4 id="flag语法"><a href="#flag语法" class="headerlink" title="flag语法"></a><code>flag</code>语法</h4><ul>
<li><code>re.complie(stringPattern [,flag])</code> : <code>flag</code> -&gt; <code>re.I|re.M</code><ul>
<li>Ex : <code>re.compile(&quot;pattern&quot;, re.I|re.M)</code> 该写法与 <code>re.complie(&quot;(?im)pattern&quot;)</code> 等价</li>
<li>Ex : <code>re.match(&quot;(?im)pattern&quot;, string )</code>与<code>re.match(&quot;pattern&quot;, string , re.I|re.M)</code>等价</li>
</ul>
</li>
</ul>
<h3 id="常用限定符及贪婪greedy匹配"><a href="#常用限定符及贪婪greedy匹配" class="headerlink" title="常用限定符及贪婪greedy匹配"></a>常用限定符及贪婪greedy匹配</h3><h4 id="贪婪"><a href="#贪婪" class="headerlink" title="贪婪"></a>贪婪</h4><ul>
<li><code>&#39;*&#39;</code> 匹配0次或多次<br>  Causes the resulting RE to match 0 or more repetitions of the preceding RE, as many repetitions as are possible. ab* will match ‘a’, ‘ab’, or ‘a’ followed by any number of ‘b’ s.</li>
<li><code>&#39;+&#39;</code> 匹配1次或多次<br>  Causes the resulting RE to match 1 or more repetitions of the preceding RE. ab+ will match ‘a’ followed by any non-zero number of ‘b’s; it will not match just ‘a’.</li>
<li><code>&#39;?&#39;</code> 匹配0次或1次<br>  Causes the resulting RE to match 0 or 1 repetitions of the preceding RE. ab? will match either ‘a’ or ‘ab’.</li>
<li><code>{m}</code> 重复每次</li>
<li><code>{m,n}</code>,<code>{,n}</code>,<code>{m,}</code> 重复m次到n次；重复0到n次；重复m到多次。</li>
</ul>
<h4 id="非贪婪"><a href="#非贪婪" class="headerlink" title="非贪婪"></a>非贪婪</h4><ul>
<li><code>*?, +?, ??</code> 尽可能少的匹配<br>The<code>&#39;*&#39;</code>,<code>&#39;+&#39;</code>, and <code>&#39;?&#39;</code> qualifiers are <strong>all greedy</strong>; they match as much text as possible. Sometimes this behaviour isn’t desired; if the RE <code>&lt;.*&gt;</code> is matched against <code>b</code>, it will match the entire string, and not just <code>`. Adding</code>?<code>after the qualifier makes it perform the match in non-greedy or minimal fashion; as few characters as possible will be matched. Using the RE</code>&lt;.*?&gt;<code>will match only</code> `.</li>
<li><code>{m,n}?</code></li>
</ul>
<h4 id="特殊符号的匹配"><a href="#特殊符号的匹配" class="headerlink" title="特殊符号的匹配"></a>特殊符号的匹配</h4><ul>
<li>括号<code>()</code>的匹配<br>to match the literals ‘(‘ or ‘)’, use <code>\(</code> or <code>\)</code>, or enclose them inside a character class: <code>[(]</code> <code>[)]</code>.</li>
<li>中括号<code>[]</code>的匹配<br>同<code>()</code>，使用<code>\[ \]</code>来匹配</li>
</ul>
<h3 id="group-分组匹配"><a href="#group-分组匹配" class="headerlink" title="group 分组匹配"></a>group 分组匹配</h3><p>对立项</p>
<ul>
<li><code>(...)</code>对正则表达式进行分组，一个括号一组(group)，在match后能够通过类似<code>\1</code>的方式retrieved</li>
<li><code>(?:...)</code>对正则表达式进行分组，与<code>(...)</code>对立，不能retrieved</li>
<li><code>(?...)</code>，举例说明，<code>(?aiLmsux)</code>，该格式适用于在将<code>flag</code>写在<code>pattern</code>的表达式中。<a href="#flag">匹配规则</a></li>
</ul>
<ul>
<li><code>(?#...)</code> 正则表达式中的注释。不起作用，be ingored</li>
</ul>
<h4 id="分组的嵌套"><a href="#分组的嵌套" class="headerlink" title="分组的嵌套"></a>分组的嵌套</h4><blockquote>
<p>Subgroups are numbered from left to right, from 1 upward. Groups can be nested; to determine the number, just count the opening parenthesis characters, going from left to right.</p>
</blockquote>
<p>分组的顺序，从左到右，按左括号的顺序来引来retrieved<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>p = re.compile(<span class="string">'(a(b)c)d'</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m = p.match(<span class="string">'abcd'</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m.group(<span class="number">0</span>)</div><div class="line"><span class="string">'abcd'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m.group(<span class="number">1</span>)</div><div class="line"><span class="string">'abc'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m.group(<span class="number">2</span>)</div><div class="line"><span class="string">'b'</span></div></pre></td></tr></table></figure></p>
<h4 id="扩展匹配"><a href="#扩展匹配" class="headerlink" title="扩展匹配(?...)"></a>扩展匹配<code>(?...)</code></h4><ul>
<li><code>(?P&lt;name&gt;...)</code> 给正则表达式的分组命令，名字为<code>name</code>，可通过<code>m.group(&#39;name&#39;)</code>或<code>\g&lt;name&gt;</code>引用retrieved<ul>
<li><code>(?P=name)</code> 使用名字为name的分组</li>
</ul>
</li>
</ul>
<p>注：此匹配的格式为python中的写法</p>
<h4 id="前后相匹配"><a href="#前后相匹配" class="headerlink" title="前后相匹配"></a>前后相匹配</h4><ul>
<li><code>(?=...)</code> : a lookahead assertion，<code>Isaac(?=Asimov)</code> 将匹配<code>IsaacAsimov</code>中的<code>Isaac</code></li>
<li><code>(?&lt;=...)</code> : a postive lookbehind assertion，<code>(?&lt;=abc)def</code>将匹配<code>abcdef</code>中的<code>def</code></li>
<li><code>(?!=...)</code> : a negetive lookbehind assertion，与<code>(?=&lt;...)</code>相反</li>
</ul>
<h3 id="re-Function-查找"><a href="#re-Function-查找" class="headerlink" title="re Function 查找"></a>re Function 查找</h3><table>
<thead>
<tr>
<th>Method/Attribute</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>match()</td>
<td>Determine if the RE matches at the beginning of the string.</td>
</tr>
<tr>
<td>search()</td>
<td>Scan through a string, looking for any location where this RE matches.</td>
</tr>
<tr>
<td>findall()</td>
<td>Find all substrings where the RE matches, and returns them as <strong>a list</strong>.</td>
</tr>
<tr>
<td>finditer()</td>
<td>Find all substrings where the RE matches, and returns them as <strong>an iterator</strong>.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>match() will only report a successful match which will start at 0;<br>if the match wouldn’t start at zero, match() will not report it.</p>
</blockquote>
<p><code>match()</code>方法只从字符串的开始位置开始匹配，而<code>search()</code>方法会向后搜索。</p>
<h3 id="re-Function-引用"><a href="#re-Function-引用" class="headerlink" title="re Function 引用"></a>re Function 引用</h3><table>
<thead>
<tr>
<th>Method/Attribute</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>group()</td>
<td>Return the string matched by the RE</td>
</tr>
<tr>
<td>start()</td>
<td>Return the starting position of the match</td>
</tr>
<tr>
<td>end()</td>
<td>Return the ending position of the match</td>
</tr>
<tr>
<td>span()</td>
<td>Return a tuple containing the (start, end) positions of the match</td>
</tr>
</tbody>
</table>
<h3 id="re-Function-修改"><a href="#re-Function-修改" class="headerlink" title="re Function 修改"></a>re Function 修改</h3><table>
<thead>
<tr>
<th>Method/Attribute</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>split()</td>
<td>Split the string into a list, splitting it wherever the RE matches</td>
</tr>
<tr>
<td>sub()</td>
<td>Find all substrings where the RE matches, and replace them with a different string</td>
</tr>
<tr>
<td>subn()</td>
<td>Does the same thing as sub(), but returns the new string and the number of replacements</td>
</tr>
</tbody>
</table>
<h4 id="re-split-应用"><a href="#re-split-应用" class="headerlink" title="re.split()应用"></a>re.split()应用</h4><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> re</div><div class="line"><span class="comment"># 多行模式，^和$匹配每一行的行首与行末</span></div><div class="line">note_sep = re.compile(<span class="string">r"^-&#123;3,&#125;$"</span>, re.M)</div><div class="line">config = note_sep.split(<span class="string">"h1\nh2\nh3\n---\n###beging\n"</span>)</div></pre></td></tr></table></figure>
<h4 id="re-sub-正则替换"><a href="#re-sub-正则替换" class="headerlink" title="re.sub() 正则替换"></a>re.sub() 正则替换</h4><p>语法格式：<code>re.sub(pattern, repl, string, count=0, flags=0)</code></p>
<ul>
<li>使用repl替换string中每一个匹配的子串后返回替换后的字符串。 </li>
<li>当repl是一个字符串时，可以使用<code>\id</code>或<code>\g&lt;id&gt;</code>、<code>\g&lt;name&gt;</code>引用分组，但不能使用编号0。 </li>
<li>当repl是一个方法时，这个方法应当只接受一个参数（Match对象），并返回一个字符串用于替换（返回的字符串中不能再引用分组）。</li>
<li><p>count用于指定最多替换次数，不指定时全部替换。 </p>
</li>
<li><p>官网例子，将两个横杆替换成一个横杆，一个横杠替换成空格</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">dashrepl</span><span class="params">(matchobj)</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">if</span> matchobj.group(<span class="number">0</span>) == <span class="string">'-'</span>: <span class="keyword">return</span> <span class="string">' '</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">else</span>: <span class="keyword">return</span> <span class="string">'-'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>re.sub(<span class="string">'-&#123;1,2&#125;'</span>, dashrepl, <span class="string">'pro----gram-files'</span>)</div><div class="line"><span class="string">'pro--gram files'</span></div></pre></td></tr></table></figure>
</li>
<li><p>带参数的回调函数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="comment"># 替换时考虑大小写的同步替换</span></div><div class="line">text = <span class="string">'UPPER PYTHON, lower python, Mixed Python'</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">matchcase</span><span class="params">(word)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">replace</span><span class="params">(m)</span>:</span></div><div class="line">        text = m.group(<span class="number">0</span>)</div><div class="line">        <span class="keyword">if</span> text.isupper():</div><div class="line">            <span class="keyword">return</span> word.upper()</div><div class="line">        <span class="keyword">elif</span> text.islower():</div><div class="line">            <span class="keyword">return</span> word.lower()</div><div class="line">        <span class="keyword">elif</span> text[<span class="number">0</span>].isupper():</div><div class="line">            <span class="keyword">return</span> word.capitalize()</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">return</span> word</div><div class="line">    <span class="keyword">return</span> replace</div><div class="line">sub_text = re.sub(<span class="string">"python"</span>, matchcase(<span class="string">"sneak"</span>), text, flags=re.IGNORECASE)</div><div class="line">print(sub_text)</div><div class="line"><span class="comment"># UPPER SNEAK, lower sneak, Mixed Sneak</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="re-subn"><a href="#re-subn" class="headerlink" title="re.subn()"></a>re.subn()</h4><p>与<code>re.sub()</code>干一样的活，返回替换后的字符串与替换的数量的元组</p>
<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><ol>
<li><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> re</div><div class="line"> </div><div class="line">p = re.compile(<span class="string">r'(\w+) (\w+)'</span>)</div><div class="line">s = <span class="string">'i say, hello world!'</span></div><div class="line"></div><div class="line"><span class="keyword">print</span> p.sub(<span class="string">r'\2 \1'</span>, s)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(m)</span>:</span></div><div class="line">  <span class="keyword">return</span> m.group(<span class="number">1</span>).title() + <span class="string">' '</span> + m.group(<span class="number">2</span>).title()</div><div class="line"></div><div class="line"><span class="keyword">print</span> p.sub(func, s)</div><div class="line">  </div><div class="line"><span class="comment">### output ###</span></div><div class="line"><span class="comment"># say i, world hello!</span></div><div class="line"><span class="comment"># I Say, Hello World!</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="re-VERBOSE-正则表达式的可读性"><a href="#re-VERBOSE-正则表达式的可读性" class="headerlink" title="re.VERBOSE 正则表达式的可读性"></a>re.VERBOSE 正则表达式的可读性</h3><p><span id="jump">re.VERBOSE 正则表达式的可读性</span></p>
<p>参考链接<a href="https://docs.python.org/3/howto/regex.html#using-re-verbose" target="_blank" rel="external">Pythondoc  regex</a><br>The re.VERBOSE flag has several effects. Whitespace in the regular expression that isn’t inside a character class is ignored. This means that an expression such as dog | cat is equivalent to the less readable dog|cat, but [a b] will still match the characters ‘a’, ‘b’, or a space. In addition, you can also put comments inside a RE; comments extend from a # character to the next newline. When used with triple-quoted strings, this enables REs to be formatted more neatly:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line">pat = re.compile(<span class="string">r"""</span></div><div class="line">  \s*                 # Skip leading whitespace</div><div class="line">  (?P&lt;header&gt;[^:]+)   # Header name</div><div class="line">  \s* :               # Whitespace, and a colon</div><div class="line">  (?P&lt;value&gt;.*?)      # The header's value -- *? used to</div><div class="line">                      # lose the following trailing whitespace</div><div class="line">  \s*$                # Trailing whitespace to end-of-line</div><div class="line">""", re.VERBOSE)</div></pre></td></tr></table></figure>
<p>This is far more readable than:<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line">pat = re.compile(<span class="string">r"\s*(?P&lt;header&gt;[^:]+)\s*:(?P&lt;value&gt;.*?)\s*$"</span>)</div></pre></td></tr></table></figure></p>
<h3 id="部分替换"><a href="#部分替换" class="headerlink" title="部分替换"></a>部分替换</h3><p>This example matches the word <code>section</code> followed by a string enclosed in <code>{</code>, <code>}</code>, and changes <code>section</code> to <code>subsection:</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; p = re.compile(<span class="string">'section&#123; ( [^&#125;]* ) &#125;'</span>, re.VERBOSE)</div><div class="line">&gt;&gt;&gt; p.sub(r<span class="string">'subsection&#123;\1&#125;'</span>,<span class="string">'section&#123;First&#125; section&#123;second&#125;'</span>)</div><div class="line"><span class="string">'subsection&#123;First&#125; subsection&#123;second&#125;'</span></div></pre></td></tr></table></figure>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/hexo_blog/categories/Python/">Python</a>, <a href="/hexo_blog/categories/Python/Basic/">Basic</a>
  </div>

        
        <div class = "counter">
  <span id="busuanzi_container_page_pv" style="display:none">
      总访问&nbsp<span id="busuanzi_value_page_pv"></span>&nbsp次
  </span>
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

  <section id = "relate">
    
		
</section>


  
    <section id="comment">
    <!--   <h1 class="title">留言</h1> -->
    
    
    </section>




</div></div>
        <aside id="sidebar" class="alignright">
    <div class="closeaside"><a class="closebutton" href="#" title="显示分类"> </a></div>
  

   <div class="search">
  <form action="//baidu.com/s" method="get" accept-charset="utf-8">
    <input type="search" name="wd"results="0" placeholder="搜索">
    <input type="hidden" name="wd" value="site:ywlbupt.github.com/hexo_blog">
  </form>
</div> 


  
<div class="widget tag">
  <h3 class="title" id="categories">分类</h3>
<!--   
	
		<li><a class = "list-2"href="/hexo_blog/categories/Ubuntu/Basic/">Basic</a><small>2</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Python/Basic/">Basic</a><small>10</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Ubuntu/Cmd/">Cmd</a><small>8</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Diary/">Diary</a><small>1</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/Gallery/">Gallery</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Iterator/Generator/">Generator</a><small>1</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Git/">Git</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Markdown/Hexo/">Hexo</a><small>3</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Ubuntu/IDE/">IDE</a><small>3</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Iterator/">Iterator</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Python/Lib/">Lib</a><small>5</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Markdown/">Markdown</a><small>3</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/Network/">Network</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Vim/Plugin/">Plugin</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Python/">Python</a><small>18</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Python/Python-Basic/">Python_Basic</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Raspberry/">Raspberry</a><small>1</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/SQL/">SQL</a><small>2</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Network/SSH/">SSH</a><small>1</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/SQL/Sqlite3/">Sqlite3</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Ubuntu/">Ubuntu</a><small>13</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/Vim/">Vim</a><small>3</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/python/basic/">basic</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/isinstance/">isinstance</a><small>1</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/python/">python</a><small>2</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/isinstance/type/">type</a><small>1</small></li>
     
   -->


     <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Diary/">Diary</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Gallery/">Gallery</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Iterator/">Iterator</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Iterator/Generator/">Generator</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Markdown/">Markdown</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Markdown/Hexo/">Hexo</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Network/">Network</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Network/SSH/">SSH</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/">Python</a><span class="category-list-count">18</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/Basic/">Basic</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/Lib/">Lib</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/Python-Basic/">Python_Basic</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Raspberry/">Raspberry</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/SQL/">SQL</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/SQL/Sqlite3/">Sqlite3</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/">Ubuntu</a><span class="category-list-count">13</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/Basic/">Basic</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/Cmd/">Cmd</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/IDE/">IDE</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Vim/">Vim</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Vim/Plugin/">Plugin</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/isinstance/">isinstance</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/isinstance/type/">type</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/python/">python</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/python/basic/">basic</a><span class="category-list-count">2</span></li></ul></li></ul> 
</div>
 


  <div class="widget tag">
  <h3 class="title">日历云</h3>
  <div id="calendar"></div>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/hexo_blog/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/hexo_blog/tags/Zhihu/" style="font-size: 10px;">Zhihu</a> <a href="/hexo_blog/tags/ansible/" style="font-size: 10px;">ansible</a> <a href="/hexo_blog/tags/cmd/" style="font-size: 10px;">cmd</a> <a href="/hexo_blog/tags/codecs/" style="font-size: 10px;">codecs</a> <a href="/hexo_blog/tags/const/" style="font-size: 10px;">const</a> <a href="/hexo_blog/tags/dd/" style="font-size: 10px;">dd</a> <a href="/hexo_blog/tags/deb/" style="font-size: 10px;">deb</a> <a href="/hexo_blog/tags/df/" style="font-size: 10px;">df</a> <a href="/hexo_blog/tags/ejs引擎/" style="font-size: 10px;">ejs引擎</a> <a href="/hexo_blog/tags/escape/" style="font-size: 10px;">escape</a> <a href="/hexo_blog/tags/fdisk/" style="font-size: 10px;">fdisk</a> <a href="/hexo_blog/tags/find/" style="font-size: 10px;">find</a> <a href="/hexo_blog/tags/git/" style="font-size: 16.67px;">git</a> <a href="/hexo_blog/tags/grep/" style="font-size: 10px;">grep</a> <a href="/hexo_blog/tags/hexo/" style="font-size: 13.33px;">hexo</a> <a href="/hexo_blog/tags/hosts/" style="font-size: 10px;">hosts</a> <a href="/hexo_blog/tags/jacman/" style="font-size: 13.33px;">jacman</a> <a href="/hexo_blog/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/hexo_blog/tags/json/" style="font-size: 10px;">json</a> <a href="/hexo_blog/tags/object/" style="font-size: 10px;">object</a> <a href="/hexo_blog/tags/os/" style="font-size: 10px;">os</a> <a href="/hexo_blog/tags/python/" style="font-size: 20px;">python</a> <a href="/hexo_blog/tags/shutdown/" style="font-size: 10px;">shutdown</a> <a href="/hexo_blog/tags/snippets/" style="font-size: 10px;">snippets</a> <a href="/hexo_blog/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/hexo_blog/tags/string/" style="font-size: 10px;">string</a> <a href="/hexo_blog/tags/tmux/" style="font-size: 10px;">tmux</a> <a href="/hexo_blog/tags/tutorial/" style="font-size: 10px;">tutorial</a> <a href="/hexo_blog/tags/type/" style="font-size: 10px;">type</a> <a href="/hexo_blog/tags/vim/" style="font-size: 13.33px;">vim</a> <a href="/hexo_blog/tags/wrapper/" style="font-size: 10px;">wrapper</a> <a href="/hexo_blog/tags/yaml/" style="font-size: 10px;">yaml</a> <a href="/hexo_blog/tags/zt/" style="font-size: 10px;">zt</a> <a href="/hexo_blog/tags/人工置顶/" style="font-size: 10px;">人工置顶</a> <a href="/hexo_blog/tags/科学上网/" style="font-size: 10px;">科学上网</a>
  </div>
</div>


</aside>

      <div class="clearfix"></div>
    </div>
  
  <footer id="footer"><div class="footer-content inner">
  <div class="alignleft">
  
    &copy; 2017 Wlin
    
  </div>
  <div class="alignright">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme
    <a href="https://github.com/pengloo53/Hexo-theme-light_cn">light_cn</a>
  </div>
  
  <div class="visit">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
  </div>
  
  <div class="clearfix"></div>
</div></footer>
  <script src="http://libs.baidu.com/jquery/2.1.1/jquery.min.js"></script>
<script src="/hexo_blog/js/jquery.imagesloaded.min.js"></script>
<script src="/hexo_blog/js/gallery.js"></script>

<!-- add calendar widget -->

  <script src="/hexo_blog/js/calendar.js"></script>
  <script src="/hexo_blog/js/languages.js"></script>
  <script type="text/javascript">
    $(function() {
    
      $('#calendar').aCalendar('zh-CN',{single:undefined, root:'calendar'});
    
    });
  </script>


<!-- 添加『不蒜子』计数服务 -->
<script async src="http://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<div id="toTop">
	<a href="#">▲</a>
	<a href="#footer">▼</a>
</div>


<!-- 目录与分类的切换按钮 -->
<script type="text/javascript">
$(document).ready(function(){ 
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#sidebar'),
      c = $('.closeaside'),
      o = $('.openaside');
      t = $('#toc.toc-aside')
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    // t.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    t.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  // $(window).scroll(function(){
    // ta.css("top",Math.max(140,320-$(this).scrollTop()));
  // });
});
</script>


</body>
</html>


