<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 3 页 | WiZero</title>
  <meta name="author" content="Wlin">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="WiZero"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  <link rel="alternate" href="/hexo_blog/atom.xml" title="WiZero" type="application/atom+xml">
  <link rel="stylesheet" href="/hexo_blog/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <meta name="wumiiVerification" content="fb50a101-84fe-4ca2-91a7-ae8cf792978b" />
  
  <meta name="wumiiVerification" content="d73b5866-c390-4156-a4dd-51b526b5335e" />
</head>

<body>
  <header id="header">
<div class= "header-content inner">
	<div class = "alignleft col-one">
		
			<div class='avatar'>
				<img src = "/hexo_blog/images/site/lufy-avatar.jpg">
              </div>
		
		<div class="header-div">
		    <h1><a href="/hexo_blog/">WiZero</a></h1>
		    <h2><a href="/hexo_blog/">阅读，思考，实践，不忘初心</a></h2>
		</div>
	</div>
	<div class = "alignright col-two">
		
	</div>
	<div class="clearfix"></div>
</div>

<div class= "header-nav">
	<div class='header-nav-content inner'>
		<div id="main-nav" class="alignleft">
			<ul>
		    		
		    		  <li><a href="/hexo_blog/./">首页</a></li>
		    		
		    		  <li><a href="/hexo_blog/archives">归档</a></li>
		    		
		    	</ul>
		</div>
		<div id="sub-nav" class="alignright">
     	 <ul>
		    
		      <li><a href="/hexo_blog/atom.xml">订阅</a></li>
		    
		      <li><a href="/hexo_blog/customization">留言</a></li>
		    
     	 </ul>
		</div>
	</div>
	<div class="clearfix"></div>
</div>
</header>
  
    <div id="content" class="inner">
      <div id="main-col" class="alignleft"><div id="wrapper">
	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用sys-argv"><span class="toc-number">1.</span> <span class="toc-text">使用sys.argv</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#argparse"><span class="toc-number">2.</span> <span class="toc-text">argparse</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-27T03:35:21.000Z"><a href="/hexo_blog/2016/11/27/Python-2016-11-27-python-lib-Python与终端的交互/">2016-11-27</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/27/Python-2016-11-27-python-lib-Python与终端的交互/">python-lib~Python与终端的交互</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用sys-argv"><span class="toc-number">1.</span> <span class="toc-text">使用sys.argv</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#argparse"><span class="toc-number">2.</span> <span class="toc-text">argparse</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<p>command line 界面下简单来说三种方法：</p>
<ol>
<li>用 <code>input</code> 去問使用者</li>
<li>用 <code>sys.argv</code></li>
<li>用一些 package/module, 像是 <a href="https://docs.python.org/3.5/library/argparse.html" target="_blank" rel="external">argparse</a><br>或 <a href="http://clime.mosky.tw/" target="_blank" rel="external">clime</a></li>
<li><code>curse</code></li>
</ol>
<h3 id="使用sys-argv"><a href="#使用sys-argv" class="headerlink" title="使用sys.argv"></a>使用<code>sys.argv</code></h3><p>假设你的 python file 叫 <code>test.py</code><br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line">print(sys.argv)</div></pre></td></tr></table></figure></p>
<p>运行:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ python test.py hello world 2016-07-01 12:30</div><div class="line">[&apos;test.py&apos;, &apos;hello&apos;, &apos;world&apos;, &apos;2016-07-01&apos;, &apos;12:30&apos;]</div></pre></td></tr></table></figure>
<h3 id="argparse"><a href="#argparse" class="headerlink" title="argparse"></a><code>argparse</code></h3><ol>
<li><a href="https://docs.python.org/3/howto/argparse.html" target="_blank" rel="external">HOWTo - argparse</a></li>
<li><a href="https://docs.python.org/3.5/library/argparse.html" target="_blank" rel="external">python stl - argparse</a></li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#From-Zhihu"><span class="toc-number">1.</span> <span class="toc-text">From Zhihu</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简单装饰器-无参数装饰器"><span class="toc-number">1.1.</span> <span class="toc-text">简单装饰器 - 无参数装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带参数的装饰器-三层定义"><span class="toc-number">1.2.</span> <span class="toc-text">带参数的装饰器 - 三层定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数装饰器装饰类方法-method-decorator"><span class="toc-number">1.3.</span> <span class="toc-text">函数装饰器装饰类方法 method decorator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#装饰器的顺序"><span class="toc-number">1.4.</span> <span class="toc-text">装饰器的顺序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类装饰器"><span class="toc-number">2.</span> <span class="toc-text">类装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#类装饰器装饰函数"><span class="toc-number">2.1.</span> <span class="toc-text">类装饰器装饰函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类装饰器装饰类"><span class="toc-number">2.2.</span> <span class="toc-text">类装饰器装饰类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类装饰器实现类实例的管理"><span class="toc-number">2.3.</span> <span class="toc-text">类装饰器实现类实例的管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#functools-wraps"><span class="toc-number">2.4.</span> <span class="toc-text">functools.wraps</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#how-can-the-decorator-be-useful"><span class="toc-number">3.</span> <span class="toc-text">how can the decorator be useful</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-26T04:49:40.000Z"><a href="/hexo_blog/2016/11/26/Python-Basic-2016-11-26-python-basic-decorator-装饰器/">2016-11-26</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/26/Python-Basic-2016-11-26-python-basic-decorator-装饰器/">python-basic~decorator-装饰器</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#From-Zhihu"><span class="toc-number">1.</span> <span class="toc-text">From Zhihu</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简单装饰器-无参数装饰器"><span class="toc-number">1.1.</span> <span class="toc-text">简单装饰器 - 无参数装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带参数的装饰器-三层定义"><span class="toc-number">1.2.</span> <span class="toc-text">带参数的装饰器 - 三层定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数装饰器装饰类方法-method-decorator"><span class="toc-number">1.3.</span> <span class="toc-text">函数装饰器装饰类方法 method decorator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#装饰器的顺序"><span class="toc-number">1.4.</span> <span class="toc-text">装饰器的顺序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类装饰器"><span class="toc-number">2.</span> <span class="toc-text">类装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#类装饰器装饰函数"><span class="toc-number">2.1.</span> <span class="toc-text">类装饰器装饰函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类装饰器装饰类"><span class="toc-number">2.2.</span> <span class="toc-text">类装饰器装饰类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类装饰器实现类实例的管理"><span class="toc-number">2.3.</span> <span class="toc-text">类装饰器实现类实例的管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#functools-wraps"><span class="toc-number">2.4.</span> <span class="toc-text">functools.wraps</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#how-can-the-decorator-be-useful"><span class="toc-number">3.</span> <span class="toc-text">how can the decorator be useful</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<p>装饰器本质上是一个Python函数，</p>
<p><strong>它可以让其他函数在不需要做任何代码变动的前提下增加额外功能，</strong></p>
<p>装饰器的返回值也是一个函数对象。</p>
<p>它经常用于有切面需求的场景，比如：插入日志、性能测试、事务处理、缓存、权限校验等场景。</p>
<p>装饰器是解决这类问题的绝佳设计，有了装饰器，我们就可以抽离出大量与函数功能本身无关的雷同代码并继续重用。</p>
<p><strong>概括的讲，装饰器的作用就是为已经存在的对象添加额外的功能。</strong></p>
<ol>
<li>函数装饰器可以用来管理函数调用与函数对象。</li>
<li>类装饰器可以用来管理类实例和类对象。</li>
</ol>
<h2 id="From-Zhihu"><a href="#From-Zhihu" class="headerlink" title="From Zhihu"></a>From Zhihu</h2><ol>
<li><a href="https://www.zhihu.com/question/26930016/answer/99243411" target="_blank" rel="external">如何理解python装饰器-zhijun liu</a></li>
</ol>
<p>装饰器本质上是一个Python函数，</p>
<p><strong>它可以让其他函数在不需要做任何代码变动的前提下增加额外功能，</strong></p>
<p>装饰器的返回值也是一个函数对象。</p>
<p>它经常用于有切面需求的场景，比如：插入日志、性能测试、事务处理、缓存、权限校验等场景。</p>
<p>装饰器是解决这类问题的绝佳设计，有了装饰器，我们就可以抽离出大量与函数功能本身无关的雷同代码并继续重用。</p>
<p><strong>概括的讲，装饰器的作用就是为已经存在的对象添加额外的功能。</strong></p>
<p>先来看一个简单例子：<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></div><div class="line">	print(<span class="string">'i am foo'</span>)</div></pre></td></tr></table></figure></p>
<p>现在有一个新的需求，希望可以记录下函数的执行日志，于是在代码中添加日志代码：<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></div><div class="line">	print(<span class="string">'i am foo'</span>)</div><div class="line">	logging.info(<span class="string">"foo is running"</span>)</div></pre></td></tr></table></figure></p>
<p>bar()、bar2()也有类似的需求，怎么做？</p>
<p>再写一个logging在bar函数里？</p>
<p>这样就造成大量雷同的代码，为了减少重复写代码，</p>
<p>我们可以这样做，重新定义一个函数：专门处理日志，日志处理完之后再执行真正的业务代码<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">use_logging</span><span class="params">(func)</span>:</span></div><div class="line">	logging.warn(<span class="string">"%s is running"</span> % func.__name__)</div><div class="line">	func()</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></div><div class="line">	print(<span class="string">'i am bar'</span>)</div><div class="line"></div><div class="line">use_logging(bar)</div></pre></td></tr></table></figure></p>
<p>逻辑上不难理解，但是这样的话，我们每次都要将一个函数作为参数传递给use_logging函数。</p>
<p>而且这种方式已经破坏了原有的代码逻辑结构，</p>
<p>之前执行业务逻辑时，执行运行bar()，但是现在不得不改成<code>use_logging(bar)</code>。</p>
<p>那么有没有更好的方式的呢？当然有，答案就是装饰器。</p>
<h3 id="简单装饰器-无参数装饰器"><a href="#简单装饰器-无参数装饰器" class="headerlink" title="简单装饰器 - 无参数装饰器"></a>简单装饰器 - 无参数装饰器</h3><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">use_logging</span><span class="params">(func)</span>:</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kwargs)</span>:</span></div><div class="line">		logging.warn(<span class="string">"%s is running"</span> % func.__name__)</div><div class="line">		<span class="keyword">return</span> func(*args, **kwargs)</div><div class="line">	<span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></div><div class="line">	print(<span class="string">'i am bar'</span>)</div><div class="line"></div><div class="line">bar = use_logging(bar)</div><div class="line">bar()</div></pre></td></tr></table></figure>
<p>函数use_logging就是装饰器，它把执行真正业务方法的func包裹在函数里面，看起来像bar被use_logging装饰了。</p>
<p>在这个例子中，函数进入和退出时，被称为一个横切面(Aspect)，这种编程方式被称为面向切面的编程(<code>Aspect-Oriented Programming</code>)。</p>
<p>@符号是装饰器的语法糖，在定义函数的时候使用，避免再一次赋值操作</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">use_logging</span><span class="params">(func)</span>:</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kwargs)</span>:</span></div><div class="line">		logging.warn(<span class="string">"%s is running"</span> % func.__name__)</div><div class="line">		<span class="keyword">return</span> func(*args)</div><div class="line">	<span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="meta">@use_logging</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></div><div class="line">	print(<span class="string">"i am foo"</span>)</div><div class="line"></div><div class="line"><span class="meta">@use_logging</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></div><div class="line">	print(<span class="string">"i am bar"</span>)</div><div class="line"></div><div class="line">bar()</div></pre></td></tr></table></figure>
<p>如上所示，这样我们就可以省去<code>bar = use_logging(bar)</code>这一句了，直接调用bar()即可得到想要的结果。</p>
<p>如果我们有其他的类似函数，我们可以继续调用装饰器来修饰函数，而不用重复修改函数或者增加新的封装。这样，我们就提高了程序的可重复利用性，并增加了程序的可读性。</p>
<p>装饰器在Python使用如此方便都要归因于Python的函数能像普通的对象一样能作为参数传递给其他函数，可以被赋值给其他变量，可以作为返回值，可以被定义在另外一个函数内。</p>
<h3 id="带参数的装饰器-三层定义"><a href="#带参数的装饰器-三层定义" class="headerlink" title="带参数的装饰器 - 三层定义"></a>带参数的装饰器 - 三层定义</h3><p>装饰器还有更大的灵活性，例如带参数的装饰器：</p>
<p>在上面的装饰器调用中，比如<code>@use_logging</code>，该装饰器唯一的参数就是执行业务的函数。</p>
<p>装饰器的语法允许我们在调用时，提供其它参数，比如<code>@decorator(a)</code>。</p>
<p>这样，就为装饰器的编写和使用提供了更大的灵活性。<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">use_logging</span><span class="params">(level)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(func)</span>:</span></div><div class="line">		<span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kwargs)</span>:</span></div><div class="line">			<span class="keyword">if</span> level == <span class="string">"warn"</span>:</div><div class="line">				logging.warn(<span class="string">"%s is running"</span> % func.__name__)</div><div class="line">			<span class="keyword">return</span> func(*args)</div><div class="line">		<span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line">	<span class="keyword">return</span> decorator</div><div class="line"></div><div class="line"><span class="meta">@use_logging(level="warn")</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(name=<span class="string">'foo'</span>)</span>:</span></div><div class="line">	print(<span class="string">"i am %s"</span> % name)</div><div class="line"></div><div class="line">foo()</div></pre></td></tr></table></figure></p>
<p>上面的<code>use_logging</code>是允许带参数的装饰器。它实际上是对原有装饰器的一个函数封装，并返回一个装饰器。</p>
<p>我们可以将它理解为一个含有参数的<strong>闭包</strong>。</p>
<p>当我们使用<code>@use_logging(level=&quot;warn&quot;)</code>调用的时候，Python能够发现这一层的封装，并把参数传递到装饰器的环境中。</p>
<p>另：</p>
<h3 id="函数装饰器装饰类方法-method-decorator"><a href="#函数装饰器装饰类方法-method-decorator" class="headerlink" title="函数装饰器装饰类方法 method decorator"></a>函数装饰器装饰类方法 method decorator</h3><p>装饰类方法，本质上与函数装饰器一致</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">method_friendly_decorator</span><span class="params">(method_to_decorate)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(self, lie)</span>:</span></div><div class="line">        lie = lie - <span class="number">3</span> <span class="comment"># very friendly, decrease age even more :-)</span></div><div class="line">        <span class="keyword">return</span> method_to_decorate(self, lie)</div><div class="line">    <span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lucy</span><span class="params">(object)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        self.age = <span class="number">32</span></div><div class="line"></div><div class="line"><span class="meta">    @method_friendly_decorator</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sayYourAge</span><span class="params">(self, lie)</span>:</span></div><div class="line">        print(<span class="string">"I am &#123;0&#125;, what did you think?"</span>.format(self.age + lie))</div><div class="line"></div><div class="line">l = Lucy()</div><div class="line">l.sayYourAge(<span class="number">-3</span>)</div><div class="line"><span class="comment">#outputs: I am 26, what did you think?</span></div></pre></td></tr></table></figure>
<p>If you’re making general-purpose decorator–one<br>you’ll apply to any function or method, no matter its arguments–</p>
<p>then just use <code>*args, **kwargs</code>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">a_decorator_passing_arbitrary_arguments</span><span class="params">(function_to_decorate)</span>:</span></div><div class="line">    <span class="comment"># The wrapper accepts any arguments</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">a_wrapper_accepting_arbitrary_arguments</span><span class="params">(*args, **kwargs)</span>:</span></div><div class="line">        print(<span class="string">"Do I have args?:"</span>)</div><div class="line">        print(args)</div><div class="line">        print(kwargs)</div><div class="line">        <span class="comment"># Then you unpack the arguments, here *args, **kwargs</span></div><div class="line">        <span class="comment"># If you are not familiar with unpacking, check:</span></div><div class="line">        <span class="comment"># http://www.saltycrane.com/blog/2008/01/how-to-use-args-and-kwargs-in-python/</span></div><div class="line">        function_to_decorate(*args, **kwargs)</div><div class="line">    <span class="keyword">return</span> a_wrapper_accepting_arbitrary_arguments</div><div class="line"></div><div class="line"><span class="meta">@a_decorator_passing_arbitrary_arguments</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">function_with_no_argument</span><span class="params">()</span>:</span></div><div class="line">    print(<span class="string">"Python is cool, no argument here."</span>)</div><div class="line"></div><div class="line">function_with_no_argument()</div><div class="line"><span class="comment">#outputs</span></div><div class="line"><span class="comment">#Do I have args?:</span></div><div class="line"><span class="comment">#()</span></div><div class="line"><span class="comment">#&#123;&#125;</span></div><div class="line"><span class="comment">#Python is cool, no argument here.</span></div><div class="line"></div><div class="line"><span class="meta">@a_decorator_passing_arbitrary_arguments</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">function_with_arguments</span><span class="params">(a, b, c)</span>:</span></div><div class="line">    print(a, b, c)</div><div class="line"></div><div class="line">function_with_arguments(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</div><div class="line"><span class="comment">#outputs</span></div><div class="line"><span class="comment">#Do I have args?:</span></div><div class="line"><span class="comment">#(1, 2, 3)</span></div><div class="line"><span class="comment">#&#123;&#125;</span></div><div class="line"><span class="comment">#1 2 3 </span></div><div class="line"></div><div class="line"><span class="meta">@a_decorator_passing_arbitrary_arguments</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">function_with_named_arguments</span><span class="params">(a, b, c, platypus=<span class="string">"Why not ?"</span>)</span>:</span></div><div class="line">    print(<span class="string">"Do &#123;0&#125;, &#123;1&#125; and &#123;2&#125; like platypus? &#123;3&#125;"</span>.format(a, b, c, platypus))</div><div class="line"></div><div class="line">function_with_named_arguments(<span class="string">"Bill"</span>, <span class="string">"Linus"</span>, <span class="string">"Steve"</span>, platypus=<span class="string">"Indeed!"</span>)</div><div class="line"><span class="comment">#outputs</span></div><div class="line"><span class="comment">#Do I have args ? :</span></div><div class="line"><span class="comment">#('Bill', 'Linus', 'Steve')</span></div><div class="line"><span class="comment">#&#123;'platypus': 'Indeed!'&#125;</span></div><div class="line"><span class="comment">#Do Bill, Linus and Steve like platypus? Indeed!</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mary</span><span class="params">(object)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        self.age = <span class="number">31</span></div><div class="line"></div><div class="line"><span class="meta">    @a_decorator_passing_arbitrary_arguments</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sayYourAge</span><span class="params">(self, lie=<span class="number">-3</span>)</span>:</span> <span class="comment"># You can now add a default value</span></div><div class="line">        print(<span class="string">"I am &#123;0&#125;, what did you think?"</span>.format(self.age + lie))</div><div class="line"></div><div class="line">m = Mary()</div><div class="line">m.sayYourAge()</div><div class="line"><span class="comment">#outputs</span></div><div class="line"><span class="comment"># Do I have args?:</span></div><div class="line"><span class="comment">#(&lt;__main__.Mary object at 0xb7d303ac&gt;,)</span></div><div class="line"><span class="comment">#&#123;&#125;</span></div><div class="line"><span class="comment">#I am 28, what did you think?</span></div></pre></td></tr></table></figure>
<h3 id="装饰器的顺序"><a href="#装饰器的顺序" class="headerlink" title="装饰器的顺序"></a>装饰器的顺序</h3><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">@a</span></div><div class="line"><span class="meta">@b</span></div><div class="line"><span class="meta">@c</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span> <span class="params">()</span>:</span></div></pre></td></tr></table></figure>
<p>等效于<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line">f = a(b(c(f)))</div></pre></td></tr></table></figure></p>
<h2 id="类装饰器"><a href="#类装饰器" class="headerlink" title="类装饰器"></a>类装饰器</h2><h3 id="类装饰器装饰函数"><a href="#类装饰器装饰函数" class="headerlink" title="类装饰器装饰函数"></a>类装饰器装饰函数</h3><ol>
<li><a href="http://blog.csdn.net/gavin_john/article/details/50923988" target="_blank" rel="external">Python编写类装饰器</a></li>
</ol>
<p>再来看看类装饰器，相比函数装饰器，类装饰器具有灵活度大、高内聚、封装性等优点。</p>
<p>使用类装饰器还可以依靠类内部的<code>__call__</code>方法，</p>
<ol>
<li>当使用<code>@</code>形式将装饰器附加到函数定义上时，就会调用类装饰器的<code>__init__</code>方法初始化，</li>
<li>每一次对该函数的调用，都会调用类的<code>__call__</code>方法。</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, func)</span>:</span></div><div class="line">		self._func = func</div><div class="line">        print(<span class="string">"class init"</span>)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__call__</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">print</span> (<span class="string">'class decorator runing'</span>)</div><div class="line">		self._func()</div><div class="line">		<span class="keyword">print</span> (<span class="string">'class decorator ending'</span>)</div><div class="line"></div><div class="line"><span class="meta">@Foo</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></div><div class="line">	<span class="keyword">print</span> (<span class="string">'bar'</span>)</div><div class="line"></div><div class="line">bar()</div></pre></td></tr></table></figure>
<p>output<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">class init</div><div class="line">class decorator runing</div><div class="line">bar</div><div class="line">class decorator ending</div></pre></td></tr></table></figure></p>
<p>如果将上面代码中的<code>bar()</code>注释掉，输出结果只剩下一个<code>class init</code></p>
<h3 id="类装饰器装饰类"><a href="#类装饰器装饰类" class="headerlink" title="类装饰器装饰类"></a>类装饰器装饰类</h3><p>在语法上，假设装饰器返回一个可调用对象的单参数的函数，类装饰器语法<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">@decorator</div><div class="line">class C:</div><div class="line">    ...</div><div class="line"></div><div class="line">x= C(99)</div></pre></td></tr></table></figure></p>
<p>等同于下面语法<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">x=decorator(C)(99)</div></pre></td></tr></table></figure></p>
<p>直接效果就是，随后<strong>每次一次调用类名创建一个实例</strong>，会触发装饰器返回可调用对象，而不是调用最初的类本身</p>
<h3 id="类装饰器实现类实例的管理"><a href="#类装饰器实现类实例的管理" class="headerlink" title="类装饰器实现类实例的管理"></a>类装饰器实现类实例的管理</h3><p>由于类装饰器可以<strong>拦截实例创建调用，所以它们可以用来管理一个类的所有实例</strong>，或者扩展这些实例的接口。<br>下面的类装饰器实现了传统的单体编码模式，即最多只有一个类的一个实例存在。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line">instances = &#123;&#125; <span class="comment"># 全局变量，管理实例</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">getInstance</span><span class="params">(aClass, *args)</span>:</span></div><div class="line">    <span class="keyword">if</span> aClass <span class="keyword">not</span> <span class="keyword">in</span> instances:</div><div class="line">        instances[aClass] = aClass(*args)</div><div class="line">    <span class="keyword">return</span> instances[aClass]     <span class="comment">#每一个类只能存在一个实例</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">singleton</span><span class="params">(aClass)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onCall</span><span class="params">(*args)</span>:</span></div><div class="line">        <span class="keyword">return</span> getInstance(aClass,*args)</div><div class="line">    <span class="keyword">return</span> onCall</div></pre></td></tr></table></figure>
<p>为了使用它，装饰用来强化单体模型的类：<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">@singleton        # Person = singleton(Person)</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name,hours,rate)</span>:</span></div><div class="line">        self.name = name</div><div class="line">        self.hours = hours</div><div class="line">        self.rate = rate</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pay</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.hours * self.rate</div><div class="line"> </div><div class="line"><span class="meta">@singleton        # Spam = singleton(Spam)</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Spam</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,val)</span>:</span></div><div class="line">        self.attr = val</div><div class="line"></div><div class="line">bob = Person(<span class="string">'Bob'</span>,<span class="number">40</span>,<span class="number">10</span>)</div><div class="line">print(bob.name,bob.pay())</div><div class="line"></div><div class="line">sue = Person(<span class="string">'Sue'</span>,<span class="number">50</span>,<span class="number">20</span>)</div><div class="line">print(sue.name,sue.pay())</div><div class="line"></div><div class="line">X = Spam(<span class="number">42</span>)</div><div class="line">Y = Spam(<span class="number">99</span>)</div><div class="line">print(X.attr,Y.attr)</div></pre></td></tr></table></figure></p>
<p>现在，当<code>Person</code>或<code>Spam</code>类稍后用来创建一个实例的时候，<br>装饰器提供的包装逻辑层把实例构建调用指向了onCall，<br>它反过来调用getInstance，以针对每个类管理并分享一个单个实例，而不管进行了多少次构建调用。</p>
<p>程序输出如下：<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">Bob 400</div><div class="line">Bob 400</div><div class="line">42 42</div></pre></td></tr></table></figure></p>
<p>在这里，我们使用全局的字典<code>instances</code>来保存实例，还有一个更好的解决方案就是</p>
<p>使用Python3中的<code>nonlocal</code>关键字，它可以为每个类提供一个封闭的作用域，如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">singleton</span><span class="params">(aClass)</span>:</span></div><div class="line">    instance = <span class="keyword">None</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onCall</span><span class="params">(*args)</span>:</span></div><div class="line">        <span class="keyword">nonlocal</span> instance</div><div class="line">        <span class="keyword">if</span> instance == <span class="keyword">None</span>:</div><div class="line">            instance = aClass(*args)</div><div class="line">        <span class="keyword">return</span> instance</div><div class="line">    <span class="keyword">return</span> onCall</div></pre></td></tr></table></figure>
<p>当然，我们也可以用类来编写这个装饰器——如下代码对每个类使用一个实例，而不是使用一个封闭作用域或全局表：<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">singleton</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,aClass)</span>:</span></div><div class="line">        self.aClass = aClass</div><div class="line">        self.instance = <span class="keyword">None</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span><span class="params">(self,*args)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.instance == <span class="keyword">None</span>:</div><div class="line">            self.instance = self.aClass(*args)</div><div class="line">        <span class="keyword">return</span> self.instance</div></pre></td></tr></table></figure></p>
<h3 id="functools-wraps"><a href="#functools-wraps" class="headerlink" title="functools.wraps"></a>functools.wraps</h3><p>使用装饰器极大地复用了代码，但是他有一个缺点就是原函数的元信息不见了，比如函数的<code>docstring、__name__、参数列表</code>，先看例子：</p>
<p>装饰器<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">logged</span><span class="params">(func)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">with_logging</span><span class="params">(*args, **kwargs)</span>:</span></div><div class="line">		<span class="keyword">print</span> func.__name__ + <span class="string">" was called"</span></div><div class="line">		<span class="keyword">return</span> func(*args, **kwargs)</div><div class="line">	<span class="keyword">return</span> with_logging</div></pre></td></tr></table></figure></p>
<p>函数<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">@logged</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span></div><div class="line">   <span class="string">"""does some math"""</span></div><div class="line">   <span class="keyword">return</span> x + x * x</div></pre></td></tr></table></figure></p>
<p>该函数完成等价于：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span></div><div class="line">	<span class="string">"""does some math"""</span></div><div class="line">	<span class="keyword">return</span> x + x * x</div><div class="line">f = logged(f)</div></pre></td></tr></table></figure>
<p>不难发现，函数<code>f</code>被<code>with_logging</code>取代了，</p>
<p>当然它的docstring，<strong>name</strong>就是变成了with_logging函数的信息了。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">print</span> f.__name__	<span class="comment"># prints 'with_logging'</span></div><div class="line"><span class="keyword">print</span> f.__doc__	 <span class="comment"># prints None</span></div></pre></td></tr></table></figure>
<p>这个问题就比较严重的，好在我们有<code>functools.wraps</code>，</p>
<p>wraps本身也是一个装饰器，它能把原函数的元信息拷贝到装饰器函数中，这使得装饰器函数也有和原函数一样的元信息了。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">logged</span><span class="params">(func)</span>:</span></div><div class="line"><span class="meta">	@wraps(func)</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">with_logging</span><span class="params">(*args, **kwargs)</span>:</span></div><div class="line">		<span class="keyword">print</span> func.__name__ + <span class="string">" was called"</span></div><div class="line">		<span class="keyword">return</span> func(*args, **kwargs)</div><div class="line">	<span class="keyword">return</span> with_logging</div><div class="line"></div><div class="line"><span class="meta">@logged</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span></div><div class="line">	<span class="string">"""does some math"""</span></div><div class="line">	<span class="keyword">return</span> x + x * x</div><div class="line"></div><div class="line"><span class="keyword">print</span> f.__name__  <span class="comment"># prints 'f'</span></div><div class="line"><span class="keyword">print</span> f.__doc__   <span class="comment"># prints 'does some math'</span></div></pre></td></tr></table></figure>
<h2 id="how-can-the-decorator-be-useful"><a href="#how-can-the-decorator-be-useful" class="headerlink" title="how can the decorator be useful"></a>how can the decorator be useful</h2><p>使用decorator打log，timer是个不错的选择<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">benchmark</span><span class="params">(func)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    A decorator that prints the time a function takes</div><div class="line">    to execute.</div><div class="line">    """</div><div class="line">    <span class="keyword">import</span> time</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kwargs)</span>:</span></div><div class="line">        t = time.clock()</div><div class="line">        res = func(*args, **kwargs)</div><div class="line">        print(<span class="string">"&#123;0&#125; &#123;1&#125;"</span>.format(func.__name__, time.clock()-t))</div><div class="line">        <span class="keyword">return</span> res</div><div class="line">    <span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">logging</span><span class="params">(func)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    A decorator that logs the activity of the script.</div><div class="line">    (it actually just prints it, but it could be logging!)</div><div class="line">    """</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kwargs)</span>:</span></div><div class="line">        res = func(*args, **kwargs)</div><div class="line">        print(<span class="string">"&#123;0&#125; &#123;1&#125; &#123;2&#125;"</span>.format(func.__name__, args, kwargs))</div><div class="line">        <span class="keyword">return</span> res</div><div class="line">    <span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">counter</span><span class="params">(func)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    A decorator that counts and prints the number of times a function has been executed</div><div class="line">    """</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kwargs)</span>:</span></div><div class="line">        wrapper.count = wrapper.count + <span class="number">1</span></div><div class="line">        res = func(*args, **kwargs)</div><div class="line">        print(<span class="string">"&#123;0&#125; has been used: &#123;1&#125;x"</span>.format(func.__name__, wrapper.count))</div><div class="line">        <span class="keyword">return</span> res</div><div class="line">    wrapper.count = <span class="number">0</span></div><div class="line">    <span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="meta">@counter</span></div><div class="line"><span class="meta">@benchmark</span></div><div class="line"><span class="meta">@logging</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverse_string</span><span class="params">(string)</span>:</span></div><div class="line">    <span class="keyword">return</span> str(reversed(string))</div><div class="line"></div><div class="line">print(reverse_string(<span class="string">"Able was I ere I saw Elba"</span>))</div><div class="line">print(reverse_string(<span class="string">"A man, a plan, a canoe, pasta, heros, rajahs, a coloratura, maps, snipe, percale, macaroni, a gag, a banana bag, a tan, a tag, a banana bag again (or a camel), a crepe, pins, Spam, a rut, a Rolo, cash, a jar, sore hats, a peon, a canal: Panama!"</span>))</div><div class="line"></div><div class="line"><span class="comment">#outputs:</span></div><div class="line"><span class="comment">#reverse_string ('Able was I ere I saw Elba',) &#123;&#125;</span></div><div class="line"><span class="comment">#wrapper 0.0</span></div><div class="line"><span class="comment">#wrapper has been used: 1x </span></div><div class="line"><span class="comment">#ablE was I ere I saw elbA</span></div><div class="line"><span class="comment">#reverse_string ('A man, a plan, a canoe, pasta, heros, rajahs, a coloratura, maps, snipe, percale, macaroni, a gag, a banana bag, a tan, a tag, a banana bag again (or a camel), a crepe, pins, Spam, a rut, a Rolo, cash, a jar, sore hats, a peon, a canal: Panama!',) &#123;&#125;</span></div><div class="line"><span class="comment">#wrapper 0.0</span></div><div class="line"><span class="comment">#wrapper has been used: 2x</span></div><div class="line"><span class="comment">#!amanaP :lanac a ,noep a ,stah eros ,raj a ,hsac ,oloR a ,tur a ,mapS ,snip ,eperc a ,)lemac a ro( niaga gab ananab a ,gat a ,nat a ,gab ananab a ,gag a ,inoracam ,elacrep ,epins ,spam ,arutaroloc a ,shajar ,soreh ,atsap ,eonac a ,nalp a ,nam A</span></div></pre></td></tr></table></figure></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#通过PPA安装"><span class="toc-number">1.</span> <span class="toc-text">通过PPA安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#卸载Atom"><span class="toc-number">2.</span> <span class="toc-text">卸载Atom</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-23T16:10:19.000Z"><a href="/hexo_blog/2016/11/24/Ubuntu-2016-11-24-ubuntu-IDE-atom安装/">2016-11-24</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/24/Ubuntu-2016-11-24-ubuntu-IDE-atom安装/">ubuntu-IDE~atom安装</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#通过PPA安装"><span class="toc-number">1.</span> <span class="toc-text">通过PPA安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#卸载Atom"><span class="toc-number">2.</span> <span class="toc-text">卸载Atom</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<h2 id="通过PPA安装"><a href="#通过PPA安装" class="headerlink" title="通过PPA安装"></a>通过PPA安装</h2><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo add-apt-repository ppa:webupd8team/atom</div><div class="line">sudo apt-get update</div><div class="line">sudo apt-get install atom</div></pre></td></tr></table></figure>
<p>安装后，如果通过图标打开后出错，那么可以通过以下命令开启 Atom：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">/opt/atom/atom</div></pre></td></tr></table></figure>
<h2 id="卸载Atom"><a href="#卸载Atom" class="headerlink" title="卸载Atom"></a>卸载Atom</h2><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo apt-get remove atom</div><div class="line">sudo add-apt-repository --remove ppa:webupd8team/atom</div></pre></td></tr></table></figure>
<p>以上只会卸载该软件，要卸载附加的一些软件包，请使用以下命令卸载多余的软件包：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo apt-get autoremove</div></pre></td></tr></table></figure>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#衍生操作"><span class="toc-number">1.</span> <span class="toc-text">衍生操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分区结构"><span class="toc-number">2.</span> <span class="toc-text">分区结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#空间容量计算"><span class="toc-number">2.1.</span> <span class="toc-text">空间容量计算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#查看实际空间大小"><span class="toc-number">2.1.1.</span> <span class="toc-text">查看实际空间大小</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example"><span class="toc-number">2.2.</span> <span class="toc-text">Example</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用磁盘分区，格式化与dd备份的正确姿势"><span class="toc-number">3.</span> <span class="toc-text">使用磁盘分区，格式化与dd备份的正确姿势</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#各设备挂载名称"><span class="toc-number">3.1.</span> <span class="toc-text">各设备挂载名称</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#磁盘分区"><span class="toc-number">3.2.</span> <span class="toc-text">磁盘分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mkfs-格式化磁盘"><span class="toc-number">3.3.</span> <span class="toc-text">mkfs 格式化磁盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#挂载与卸载分区"><span class="toc-number">3.4.</span> <span class="toc-text">挂载与卸载分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dd对树莓派进行备份"><span class="toc-number">3.5.</span> <span class="toc-text">dd对树莓派进行备份</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#将备份的数据恢复到另一张SD卡中"><span class="toc-number">3.6.</span> <span class="toc-text">将备份的数据恢复到另一张SD卡中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#动态调整分区大小"><span class="toc-number">3.7.</span> <span class="toc-text">动态调整分区大小</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#通过-PI-实现"><span class="toc-number">3.7.1.</span> <span class="toc-text">通过 PI 实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#终极备份还原"><span class="toc-number">3.8.</span> <span class="toc-text">终极备份还原</span></a></li></ol></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-20T06:36:09.000Z"><a href="/hexo_blog/2016/11/20/Ubuntu-2016-11-20-ubuntu-basic-磁盘分区格式化与备份/">2016-11-20</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/20/Ubuntu-2016-11-20-ubuntu-basic-磁盘分区格式化与备份/">ubuntu-basic~磁盘分区格式化与备份</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#衍生操作"><span class="toc-number">1.</span> <span class="toc-text">衍生操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分区结构"><span class="toc-number">2.</span> <span class="toc-text">分区结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#空间容量计算"><span class="toc-number">2.1.</span> <span class="toc-text">空间容量计算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#查看实际空间大小"><span class="toc-number">2.1.1.</span> <span class="toc-text">查看实际空间大小</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example"><span class="toc-number">2.2.</span> <span class="toc-text">Example</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用磁盘分区，格式化与dd备份的正确姿势"><span class="toc-number">3.</span> <span class="toc-text">使用磁盘分区，格式化与dd备份的正确姿势</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#各设备挂载名称"><span class="toc-number">3.1.</span> <span class="toc-text">各设备挂载名称</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#磁盘分区"><span class="toc-number">3.2.</span> <span class="toc-text">磁盘分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mkfs-格式化磁盘"><span class="toc-number">3.3.</span> <span class="toc-text">mkfs 格式化磁盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#挂载与卸载分区"><span class="toc-number">3.4.</span> <span class="toc-text">挂载与卸载分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dd对树莓派进行备份"><span class="toc-number">3.5.</span> <span class="toc-text">dd对树莓派进行备份</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#将备份的数据恢复到另一张SD卡中"><span class="toc-number">3.6.</span> <span class="toc-text">将备份的数据恢复到另一张SD卡中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#动态调整分区大小"><span class="toc-number">3.7.</span> <span class="toc-text">动态调整分区大小</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#通过-PI-实现"><span class="toc-number">3.7.1.</span> <span class="toc-text">通过 PI 实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#终极备份还原"><span class="toc-number">3.8.</span> <span class="toc-text">终极备份还原</span></a></li></ol></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<h2 id="衍生操作"><a href="#衍生操作" class="headerlink" title="衍生操作"></a>衍生操作</h2><ol>
<li><a href="http://blog.csdn.net/shendl/article/details/7384755" target="_blank" rel="external">使用dd对系统进行备份还原</a><ul>
<li>需要安装了ubuntu live的系统</li>
</ul>
</li>
<li><a href="http://wiki.ubuntu.org.cn/Ubuntu%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%98%E5%8E%9F" target="_blank" rel="external">官方？-Ubuntu的备份与还原-包含MBR</a></li>
</ol>
<h2 id="分区结构"><a href="#分区结构" class="headerlink" title="分区结构"></a>分区结构</h2><ol>
<li>主分区，primary</li>
<li>扩展分区，extend</li>
<li>逻辑分区，Logical</li>
</ol>
<p>查看系统内设备的所有分区，系统会把整个系统内可以找到的设备的分区都列出来<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo fdisk <span class="_">-l</span></div></pre></td></tr></table></figure></p>
<ul>
<li>一个硬盘主分区至少有1个，最多4个，扩展分区可以没有，最多1个</li>
<li>且主分区+扩展分区总共不能超过4个。逻辑分区可以有若干个</li>
<li>分出主分区后，其余的部分可以分成扩展分区，一般是剩下的部分全部分成扩展分区，<br>也可以不全分，剩下的部分就浪费了。</li>
<li>扩展分区不能直接使用，必须分成若干逻辑分区。所有的逻辑分区都是扩展分区的一份<ul>
<li>逻辑分区的号码从5开始</li>
</ul>
</li>
</ul>
<h3 id="空间容量计算"><a href="#空间容量计算" class="headerlink" title="空间容量计算"></a>空间容量计算</h3><ul>
<li>cylinder 柱面</li>
<li>sectors 扇区</li>
<li>heads 磁头</li>
</ul>
<p>每个柱面有63个扇区，每个扇区有255个磁头</p>
<p>一块磁盘的空间大小计算方式为：这块磁盘的总的磁头数量（Heads）*512bytes（因为每个磁头数量为512字节）</p>
<h4 id="查看实际空间大小"><a href="#查看实际空间大小" class="headerlink" title="查看实际空间大小"></a>查看实际空间大小</h4><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">df -h</div><div class="line"></div><div class="line">Filesystem      Size  Used Avail Use% Mounted on</div><div class="line">udev            1.9G  4.0K  1.9G   1% /dev</div><div class="line">tmpfs           387M  1.3M  385M   1% /run</div><div class="line">/dev/sda5        46G   23G   21G  54% /</div><div class="line">none            4.0K     0  4.0K   0% /sys/fs/cgroup</div><div class="line">none            5.0M     0  5.0M   0% /run/lock</div><div class="line">none            1.9G   88M  1.9G   5% /run/shm</div><div class="line">none            100M   40K  100M   1% /run/user</div><div class="line">/dev/sdd1        63M   21M   43M  33% /media/ywl/boot</div><div class="line">/dev/sdd2        29G  6.0G   22G  22% /media/ywl/402bfe3d-37db-48a7-a515-31edccf953df</div><div class="line">/dev/sdb1       157G   91G   66G  59% /media/ywl/8A1086D11086C3A3</div></pre></td></tr></table></figure>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p>如下图，存在一个主分区<code>sda1</code>，一个拓展分区Extend<code>sda2</code>，以及一个逻辑分区<code>sda5</code><br>逻辑分区<code>sda5</code>是从拓展分区<code>sda2</code>中分出的。且Units号码<code>start</code>,<code>End</code>在<code>sda2</code>里面</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): p</div><div class="line">Disk /dev/sda: 14.5 GiB, 15518920704 bytes, 30310392 sectors</div><div class="line">Units: sectors of 1 * 512 = 512 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">&lt;F8&gt;I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disklabel <span class="built_in">type</span>: dos</div><div class="line">Disk identifier: 0x20ea20e9</div><div class="line"></div><div class="line">Device     Boot    Start      End  Sectors  Size Id Type</div><div class="line">/dev/sda1           2048 16779263 16777216    8G 83 Linux</div><div class="line">/dev/sda2       16779264 30310391 13531128  6.5G  5 Extended</div><div class="line">/dev/sda5       16781312 30310391 13529080  6.5G 83 Linux</div></pre></td></tr></table></figure>
<p>在w写入操作之后，会出现以下的提示：<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): w</div><div class="line">The partition table has been altered.</div><div class="line">Calling ioctl() to re-read partition table.</div><div class="line">Re-reading the partition table failed.: Device or resource busy</div><div class="line"></div><div class="line">The kernel still uses the old table. The new table will be used at the next reboot or after you run partprobe(8) or kpartx(8).</div></pre></td></tr></table></figure></p>
<p>警告信息，因为含有根目录，磁盘无法卸载，所以内核重新取得分区表信息，<br>此时系统要求我们重新启动reboot以更新分区表信息。<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo partprobe</div></pre></td></tr></table></figure></p>
<h2 id="使用磁盘分区，格式化与dd备份的正确姿势"><a href="#使用磁盘分区，格式化与dd备份的正确姿势" class="headerlink" title="使用磁盘分区，格式化与dd备份的正确姿势"></a>使用磁盘分区，格式化与dd备份的正确姿势</h2><h3 id="各设备挂载名称"><a href="#各设备挂载名称" class="headerlink" title="各设备挂载名称"></a>各设备挂载名称</h3><ul>
<li>在linux系统下，通常SD卡挂载的设备名称为<code>mmcblk0</code><ul>
<li>其中，mmc为SD卡的前身，SD与MMC的构造差不多</li>
</ul>
</li>
<li><strong>U盘的挂载名称与硬盘一致，在磁盘操作的时候不要混淆导致误操作</strong></li>
</ul>
<h3 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h3><p>真正挂载到系统的不是类似<code>/dev/mmcblk0</code>或者<code>/dev/sda</code>这种不带后缀的设备。<br>而是如<code>/dev/mmcblk0p0</code> <code>/dev/sda1</code> 等这样的磁盘分区partition</p>
<p>对磁盘的操作，可通过<code>fdisk</code>来完成，傻瓜式操作或者参考<code>man fdisk</code></p>
<h3 id="mkfs-格式化磁盘"><a href="#mkfs-格式化磁盘" class="headerlink" title="mkfs 格式化磁盘"></a>mkfs 格式化磁盘</h3><p>文件系统 TBD</p>
<p>对于U盘而言，vfat格式可以在linux和windows中操作</p>
<p>分区完后需要对磁盘进行格式化，然后才是重新挂载。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">mkfs [-t 文件系统格式] 设备文件名</div><div class="line"><span class="comment"># 参考</span></div><div class="line">sudo mkfs -t vfat /dev/psda1</div></pre></td></tr></table></figure>
<p>当我们使用<code>mkfs -t vfat</code>命令的时候，实际上是调用<code>mkfs.vfat</code>命令来进行的格式化操作</p>
<h3 id="挂载与卸载分区"><a href="#挂载与卸载分区" class="headerlink" title="挂载与卸载分区"></a>挂载与卸载分区</h3><ul>
<li>单一的系统不应该被重复挂载在不同的挂载点（目录）中</li>
<li>单一的目录不应该重复挂载着多个文件系统</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"><span class="comment"># 一个空目录psda1，将分区挂载在非空目录会导致该目录下的文件暂时消失</span></div><div class="line">sudo mkdir /mnt/psda1</div><div class="line">mount /dev/sda1 /mnt/psda1</div></pre></td></tr></table></figure>
<h3 id="dd对树莓派进行备份"><a href="#dd对树莓派进行备份" class="headerlink" title="dd对树莓派进行备份"></a>dd对树莓派进行备份</h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo dd <span class="keyword">if</span>=/dev/mmcblk0  of=/dev/psda1/disk.img</div></pre></td></tr></table></figure>
<p>在备份的同时，压缩数据，节省空间（注：这里我遇到了gzip读写U盘权限的问题）<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo dd <span class="keyword">if</span>=/dev/mmcblk0 | gzip&gt;/mnt/psda1/disk.img.gz</div></pre></td></tr></table></figure></p>
<h3 id="将备份的数据恢复到另一张SD卡中"><a href="#将备份的数据恢复到另一张SD卡中" class="headerlink" title="将备份的数据恢复到另一张SD卡中"></a>将备份的数据恢复到另一张SD卡中</h3><p>这时候，需要PC自带读卡器，或者外置读卡器</p>
<p>fdisk，mkfs格式化SD卡后，同样使用 <code>dd</code> 系统还原</p>
<p>将gzip压缩的文件还原到SD中，(可在PC，Ubuntu下操作）<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo gzip -dc /mnt/psda1/xxx.img.gz | sudo dd of=/dev/sda</div></pre></td></tr></table></figure></p>
<h3 id="动态调整分区大小"><a href="#动态调整分区大小" class="headerlink" title="动态调整分区大小"></a>动态调整分区大小</h3><p><a href="http://blog.csdn.net/azure190/article/details/51044743" target="_blank" rel="external"> 使用fdisk e2fsck resize2fs调整Linux分区大小</a></p>
<p>用fdisk 先删除原有分区， 再重建分区， 起始cylinder 绝对不可以改，这样会破坏原分区的数据。</p>
<p>分区建好后， 就可以用e2fsck 先检查一下分区， 再用resize2fs 扩大就可以了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">e2fsck <span class="_">-f</span> /dev/sdd2</div><div class="line">resize2fs /dev/sdd2</div></pre></td></tr></table></figure>
<h4 id="通过-PI-实现"><a href="#通过-PI-实现" class="headerlink" title="通过 PI 实现"></a>通过 PI 实现</h4><p>在启动树莓派时，执行raspi-config -&gt;Expand Filesystem 即可扩展未使用的空间</p>
<h3 id="终极备份还原"><a href="#终极备份还原" class="headerlink" title="终极备份还原"></a>终极备份还原</h3><p><a href="https://item.congci.com/-/content/shu-mei-pai-raspberry-pi-sd-ka-xitong-jingxiang-beifen-haiyuan" target="_blank" rel="external">https://item.congci.com/-/content/shu-mei-pai-raspberry-pi-sd-ka-xitong-jingxiang-beifen-haiyuan</a><br><a href="http://www.tyrantek.com/archives/508/" target="_blank" rel="external">http://www.tyrantek.com/archives/508/</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#hosts存放的位置"><span class="toc-number">1.</span> <span class="toc-text">hosts存放的位置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux下修改hosts后生效的方法"><span class="toc-number">2.</span> <span class="toc-text">Linux下修改hosts后生效的方法</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-19T16:16:07.000Z"><a href="/hexo_blog/2016/11/20/Ubuntu-2016-11-20-ubuntu-cmd-Hosts相关/">2016-11-20</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/20/Ubuntu-2016-11-20-ubuntu-cmd-Hosts相关/">ubuntu-cmd~Hosts相关</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#hosts存放的位置"><span class="toc-number">1.</span> <span class="toc-text">hosts存放的位置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux下修改hosts后生效的方法"><span class="toc-number">2.</span> <span class="toc-text">Linux下修改hosts后生效的方法</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<h4 id="hosts存放的位置"><a href="#hosts存放的位置" class="headerlink" title="hosts存放的位置"></a>hosts存放的位置</h4><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo vim /etc/hosts</div></pre></td></tr></table></figure>
<h4 id="Linux下修改hosts后生效的方法"><a href="#Linux下修改hosts后生效的方法" class="headerlink" title="Linux下修改hosts后生效的方法"></a>Linux下修改hosts后生效的方法</h4><p>注：下面命令Ubuntu下不适用<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo rcnscd restart</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#终端与Vim的配色问题思考"><span class="toc-number">1.</span> <span class="toc-text">终端与Vim的配色问题思考</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vim-Vundle安装-Solarized"><span class="toc-number">2.</span> <span class="toc-text">Vim Vundle安装 Solarized</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#终端使用Solaried-16-配色"><span class="toc-number">3.</span> <span class="toc-text">终端使用Solaried 16 配色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#附录A"><span class="toc-number">4.</span> <span class="toc-text">附录A</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-17T18:19:07.000Z"><a href="/hexo_blog/2016/11/18/Ubuntu-Cmd-2016-11-18-ubuntu-IDE-vim与Terminal的solarized配色/">2016-11-18</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/18/Ubuntu-Cmd-2016-11-18-ubuntu-IDE-vim与Terminal的solarized配色/">ubuntu-IDE~vim与Terminal的solarized配色</a></h1>
  

    </header>

    <div class="entry">
      
        <p>[Toc]</p>
<p>参考文档：<a href="http://www.xorcode.com/2011/04/11/solarized-vim-eclipse-ubuntu/">Using Solarized colors with vim, Eclipse, and Ubuntu</a></p>
<h2 id="终端与Vim的配色问题思考"><a href="#终端与Vim的配色问题思考" class="headerlink" title="终端与Vim的配色问题思考"></a>终端与Vim的配色问题思考</h2><p>注意 vim 的终端配色与 GUI 配色是完全不同的，一款 GUI 的配色方案有可能根本不含有终端配色方案。</p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/hexo_blog/2016/11/18/Ubuntu-Cmd-2016-11-18-ubuntu-IDE-vim与Terminal的solarized配色/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Holding"><span class="toc-number">1.</span> <span class="toc-text">Holding</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#dpkg"><span class="toc-number">1.1.</span> <span class="toc-text">dpkg</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apt"><span class="toc-number">1.2.</span> <span class="toc-text">apt</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sudo-apt-get-upgrade"><span class="toc-number">1.2.1.</span> <span class="toc-text">sudo apt-get upgrade</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#aptitude"><span class="toc-number">1.3.</span> <span class="toc-text">aptitude</span></a></li></ol></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-14T16:31:21.000Z"><a href="/hexo_blog/2016/11/15/Ubuntu-Cmd-2016-11-15-ubuntu-cmd-update-hold设置某软件不更新/">2016-11-15</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/15/Ubuntu-Cmd-2016-11-15-ubuntu-cmd-update-hold设置某软件不更新/">ubuntu-cmd~update-hold设置某软件不更新</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Holding"><span class="toc-number">1.</span> <span class="toc-text">Holding</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#dpkg"><span class="toc-number">1.1.</span> <span class="toc-text">dpkg</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apt"><span class="toc-number">1.2.</span> <span class="toc-text">apt</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sudo-apt-get-upgrade"><span class="toc-number">1.2.1.</span> <span class="toc-text">sudo apt-get upgrade</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#aptitude"><span class="toc-number">1.3.</span> <span class="toc-text">aptitude</span></a></li></ol></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<h2 id="Holding"><a href="#Holding" class="headerlink" title="Holding"></a>Holding</h2><p>There are four ways of holding back packages: with dpkg, apt, aptitude or dselect.</p>
<h3 id="dpkg"><a href="#dpkg" class="headerlink" title="dpkg"></a>dpkg</h3><p>Put a package on hold:<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">"package hold"</span> | sudo dpkg --set-selections</div></pre></td></tr></table></figure></p>
<p>Remove the hold:<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">"package install"</span> | sudo dpkg --set-selections</div></pre></td></tr></table></figure></p>
<p>Display the status of your packages:<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">dpkg --get-selections</div></pre></td></tr></table></figure></p>
<p>Display the status of a single package:<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">dpkg --get-selections | grep <span class="string">"package"</span></div></pre></td></tr></table></figure></p>
<h3 id="apt"><a href="#apt" class="headerlink" title="apt"></a>apt</h3><p>我用这个命令hold住vim 8.0的源代码安装</p>
<p>Hold a package:<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo apt-mark hold package_name</div></pre></td></tr></table></figure></p>
<p>Remove the hold:<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">sudo apt-mark unhold package_name</div></pre></td></tr></table></figure></p>
<h4 id="sudo-apt-get-upgrade"><a href="#sudo-apt-get-upgrade" class="headerlink" title="sudo apt-get upgrade"></a>sudo apt-get upgrade</h4><p>通过执行<code>sudo apt-get upgrade</code><br>会有如下提示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">The following packages have been kept back:</div><div class="line">  vim</div><div class="line">  0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.</div></pre></td></tr></table></figure>
<h3 id="aptitude"><a href="#aptitude" class="headerlink" title="aptitude"></a>aptitude</h3><p>Hold a package:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo aptitude hold package_name</div></pre></td></tr></table></figure>
<p>Remove the hold:<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo aptitude unhold package_name</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#node-linux-下安装"><span class="toc-number">1.</span> <span class="toc-text">node linux 下安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#将node运行目录写到sudo运行环境中"><span class="toc-number">1.1.</span> <span class="toc-text">将node运行目录写到sudo运行环境中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#npm镜像源修改"><span class="toc-number">1.2.</span> <span class="toc-text">npm镜像源修改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Windows下安装"><span class="toc-number">2.</span> <span class="toc-text">Windows下安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#下载安装"><span class="toc-number">2.1.</span> <span class="toc-text">下载安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Node-js环境测试，Test"><span class="toc-number">2.2.</span> <span class="toc-text">Node.js环境测试，Test</span></a></li></ol></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-12T14:12:45.000Z"><a href="/hexo_blog/2016/11/12/Ubuntu-IDE-2016-11-12-ubuntu-IDE-Node-js安装与配置/">2016-11-12</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/12/Ubuntu-IDE-2016-11-12-ubuntu-IDE-Node-js安装与配置/">ubuntu-IDE~Node.js安装与配置</a></h1>
  

    </header>

    <div class="entry">
      
        <p>[Toc]</p>
<p><a href="https://nodejs.org/en/">官网</a></p>
<p>Node.js是一个Javascript运行环境(runtime)。</p>
<blockquote>
<p>Node.js® is a JavaScript runtime<code>built on Chrome&#39;s V8 JavaScript engine</code>，Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient.<br>Node.js’ package ecosystem, <strong>npm</strong></p>
</blockquote>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/hexo_blog/2016/11/12/Ubuntu-IDE-2016-11-12-ubuntu-IDE-Node-js安装与配置/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>

</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-11T16:29:53.000Z"><a href="/hexo_blog/2016/11/12/Ubuntu-Cmd-2016-11-12-ubuntu-cmd-增加交换文件/">2016-11-12</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/12/Ubuntu-Cmd-2016-11-12-ubuntu-cmd-增加交换文件/">ubuntu-cmd~增加交换文件swap</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>

</div>

                  

                  -->
        <p>[Toc]</p>
<p><a href="https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-12-04" target="_blank" rel="external">How To Add Swap on Ubuntu 12.04</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">pi@raspberrypi:~/Vim_ywl/vimfiles/bundle/YouCompleteMe $ sudo swapon <span class="_">-s</span></div><div class="line">Filename                                Type            Size    Used    Priority</div><div class="line">/var/swap                               file            102396  56240   -1</div><div class="line">pi@raspberrypi:~/Vim_ywl/vimfiles/bundle/YouCompleteMe $ df</div><div class="line">Filesystem     1K-blocks    Used Available Use% Mounted on</div><div class="line">/dev/root       15180208 5521064   8982068  39% /</div><div class="line">devtmpfs          469536       0    469536   0% /dev</div><div class="line">tmpfs             473868       0    473868   0% /dev/shm</div><div class="line">tmpfs             473868    6712    467156   2% /run</div><div class="line">tmpfs               5120       4      5116   1% /run/lock</div><div class="line">tmpfs             473868       0    473868   0% /sys/fs/cgroup</div><div class="line">/dev/mmcblk0p1     64456   21256     43200  33% /boot</div><div class="line">tmpfs              94776       0     94776   0% /run/user/1000</div><div class="line">pi@raspberrypi:~/Vim_ywl/vimfiles/bundle/YouCompleteMe $ <span class="built_in">cd</span> ~</div><div class="line">pi@raspberrypi:~ $ sudo dd <span class="keyword">if</span>=/dev/zero of=/swapfile bs=1024 count=524288</div><div class="line">524288+0 records <span class="keyword">in</span></div><div class="line">524288+0 records out</div><div class="line">536870912 bytes (537 MB) copied, 37.013 s, 14.5 MB/s</div><div class="line">pi@raspberrypi:~ $ sudo mkdwap /swapfile</div><div class="line">sudo: mkdwap: <span class="built_in">command</span> not found</div><div class="line">pi@raspberrypi:~ $ sudo mkswap /swapfile                                        Setting up swapspace version 1, size = 524284 KiB</div><div class="line">no label, UUID=5d28b25a-9422-457a-9276-0d3b2be44cab</div><div class="line">pi@raspberrypi:~ $ sudo swapon /swapfile</div><div class="line">swapon: /swapfile: insecure permissions 0644, 0600 suggested.</div><div class="line">pi@raspberrypi:~ $ swapon <span class="_">-s</span></div><div class="line">Filename                                Type            Size    Used    Priority/var/swap                               file            102396  54988   -1</div><div class="line">/swapfile                               file            524284  0       -2</div><div class="line">pi@raspberrypi:~ $ sudo vim /etc/fstab</div><div class="line">pi@raspberrypi:~ $ <span class="built_in">echo</span> 10 | sudo tee /proc/sys/vm/swappiness</div><div class="line">10</div><div class="line">pi@raspberrypi:~ $ <span class="built_in">echo</span> vm.swappiness = 10 | sudo tee <span class="_">-a</span> /etc/sysctl.conf</div><div class="line">vm.swappiness = 10</div></pre></td></tr></table></figure>
<p>以上操作，在系统重启后，swap文件的大小又会变回原大小，我们可以在/etc/fstab里增加下面的配置，使其重启后，我们刚刚的配置仍然有效。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">/swapfile             swap                    swap    defaults        0 0</div></pre></td></tr></table></figure>
<p>Note: 为了避免出现意外的情况，如下所示使用swapoff命令关闭它，仅在需要使用时，使用步骤5所示的swapon命令，重新启用交换文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ swapoff /swap_file</div></pre></td></tr></table></figure>
<p>启用交换文件<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ swapon /swap_file</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#刷系统"><span class="toc-number">1.</span> <span class="toc-text">刷系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启用root账户"><span class="toc-number">2.</span> <span class="toc-text">启用root账户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SSH-登录"><span class="toc-number">3.</span> <span class="toc-text">SSH 登录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改树莓派hostname"><span class="toc-number">4.</span> <span class="toc-text">修改树莓派hostname</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看用户与用户组信息"><span class="toc-number">5.</span> <span class="toc-text">查看用户与用户组信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#软件更新sudo-apt-get-install-update"><span class="toc-number">6.</span> <span class="toc-text">软件更新sudo apt-get install update</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Tmux"><span class="toc-number">7.</span> <span class="toc-text">安装Tmux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装中文输入法-谷歌"><span class="toc-number">8.</span> <span class="toc-text">安装中文输入法-谷歌</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Vim"><span class="toc-number">9.</span> <span class="toc-text">安装Vim</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-08T14:43:25.000Z"><a href="/hexo_blog/2016/11/08/Ubuntu-2016-11-08-ubuntu-raspberry-开始配置树莓派/">2016-11-08</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/08/Ubuntu-2016-11-08-ubuntu-raspberry-开始配置树莓派/">ubuntu-raspberry~开始配置树莓派</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#刷系统"><span class="toc-number">1.</span> <span class="toc-text">刷系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启用root账户"><span class="toc-number">2.</span> <span class="toc-text">启用root账户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SSH-登录"><span class="toc-number">3.</span> <span class="toc-text">SSH 登录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改树莓派hostname"><span class="toc-number">4.</span> <span class="toc-text">修改树莓派hostname</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看用户与用户组信息"><span class="toc-number">5.</span> <span class="toc-text">查看用户与用户组信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#软件更新sudo-apt-get-install-update"><span class="toc-number">6.</span> <span class="toc-text">软件更新sudo apt-get install update</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Tmux"><span class="toc-number">7.</span> <span class="toc-text">安装Tmux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装中文输入法-谷歌"><span class="toc-number">8.</span> <span class="toc-text">安装中文输入法-谷歌</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Vim"><span class="toc-number">9.</span> <span class="toc-text">安装Vim</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<ul>
<li><a href="http://elinux.org/RPi_Easy_SD_Card_Setup" target="_blank" rel="external">比较权威的官方指导</a></li>
</ul>
<p>买的是树莓派3 B，自带WiFi，蓝牙</p>
<h3 id="刷系统"><a href="#刷系统" class="headerlink" title="刷系统"></a>刷系统</h3><ol>
<li><a href="https://www.raspberrypi.org/learning/software-guide/quickstart/" target="_blank" rel="external">官方quick start, noobs</a><ul>
<li><code>noobs</code> offline and network install</li>
<li><code>etcher.io</code> 烧写image文件</li>
<li><code>formatter</code> 格式化SD卡</li>
</ul>
</li>
</ol>
<p>为了避免无畏的工作，我直接购买了系统卡，以便快速上手。</p>
<p>在公司简单尝试了下刷系统，如果是在Windows下，其实还挺简单的。</p>
<p>基本思路是：</p>
<ol>
<li>下对应板子的系统，<br>鉴于raspberry Pi官方的系统资源比较多，就选择直接安装它。不捣鼓其他的版本了</li>
<li>在Windows下，下载刷镜像的软件win32disk</li>
<li>然后一顿傻瓜操作。。。</li>
</ol>
<p>过几天，我把上回购买的树莓派1 B+拿出来按同样的思路捣鼓一下，变废为宝。</p>
<h3 id="启用root账户"><a href="#启用root账户" class="headerlink" title="启用root账户"></a>启用root账户</h3><p>树莓派使用的linux是debian系统，所以树莓派启用root和debian是相同的。</p>
<p>debian里root账户默认没有密码，但账户锁定。</p>
<p>当需要root权限时，由默认账户经由sudo执行，Raspberry pi 系统中的Raspbian</p>
<p><strong>默认用户是pi 密码为raspberry</strong></p>
<p>重新开启root账号，可由pi用户登录后，在命令行下执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo passwd root</div></pre></td></tr></table></figure>
<p>执行此命令后系统会提示输入两遍的root密码，输入你想设的密码即可，然后在执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo passwd --unlock root</div></pre></td></tr></table></figure>
<p>这样就可以解锁root账户了。</p>
<p>当从root用户切换到pi用户后，我们再次使用<code>su passwd root</code>来修改密码，会报错</p>
<h3 id="SSH-登录"><a href="#SSH-登录" class="headerlink" title="SSH 登录"></a>SSH 登录</h3><p>对于树莓派3，默认开启SSH服务。（如果树莓派1不开启，就接上显示屏打开配置）</p>
<p>如果没有显示屏，从另一个角度，可以采用端口扫描的方法，扫出树莓派的IP地址。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"><span class="comment"># 排除192.168.99.1这个路由器地址，查看哪个端口的port 22是Open状态</span></div><div class="line">$ nmap <span class="_">-s</span>P 192.168.99.100-254</div></pre></td></tr></table></figure>
<p>示例输出：<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">Starting Nmap 6.40 ( http://nmap.org ) at 2016-11-28 23:46 CST</div><div class="line">Nmap scan report <span class="keyword">for</span> MI5sPlus-xiaomishouj.lan (192.168.99.103)</div><div class="line">Host is up (0.091s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> chuangmi-plug-m1_miio45324900.lan (192.168.99.105)</div><div class="line">Host is up (0.049s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> zhimi-airpurifier-m1_miio12912092.lan (192.168.99.107)</div><div class="line">Host is up (0.11s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> 192.168.99.137</div><div class="line">Host is up (0.00057s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> raspberrypi.lan (192.168.99.144)</div><div class="line">Host is up (0.00022s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> MI5s-xiaomishouji.lan (192.168.99.153)</div><div class="line">Host is up (0.24s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> ywl-ThinkPad-E420.lan (192.168.99.210)</div><div class="line">Host is up (0.00012s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> ESP_C37984.lan (192.168.99.216)</div><div class="line">Host is up (0.058s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> zhimi-airpurifier-m1_miio12647059.lan (192.168.99.224)</div><div class="line">Host is up (0.052s latency).</div><div class="line">Nmap <span class="keyword">done</span>: 155 IP addresses (9 hosts up) scanned <span class="keyword">in</span> 19.43 seconds</div></pre></td></tr></table></figure></p>
<p>或者：<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ nmap -v <span class="_">-s</span>T 192.168.99.100-254</div></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ ssh pi@&lt;ip address&gt;</div></pre></td></tr></table></figure>
<p>用户名为<code>pi</code>，密码默认为<code>raspberry</code></p>
<h3 id="修改树莓派hostname"><a href="#修改树莓派hostname" class="headerlink" title="修改树莓派hostname"></a>修改树莓派hostname</h3><ol>
<li>修改主机名，<code>sudo vim /etc/hostname</code><br>修改成想要的主机名字</li>
<li>修改hosts文件，<code>sudo vim /etc/hosts</code><br>替换原先所有的主机名</li>
<li>重启设备，生效</li>
</ol>
<h3 id="查看用户与用户组信息"><a href="#查看用户与用户组信息" class="headerlink" title="查看用户与用户组信息"></a>查看用户与用户组信息</h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">grep pi /etc/passwd /etc/group /etc/shadow</div></pre></td></tr></table></figure>
<h3 id="软件更新sudo-apt-get-install-update"><a href="#软件更新sudo-apt-get-install-update" class="headerlink" title="软件更新sudo apt-get install update"></a>软件更新<code>sudo apt-get install update</code></h3><p>google一下，修改软件源，不然更新太慢了。</p>
<h3 id="安装Tmux"><a href="#安装Tmux" class="headerlink" title="安装Tmux"></a>安装<code>Tmux</code></h3><p>试过未更新软件包，直接安装<code>tmux</code>，会提示找不到包<code>tmux</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ sudo apt-get install tmux</div></pre></td></tr></table></figure>
<p>然后将<code>~/.tmux.conf</code>(该文件从<code>Vim_ywl</code>git库中找)里面的内容拷贝到Raspberry相应的文件中。(拷贝前，可以先安装xclip，利用系统剪贴板方便操作)</p>
<h3 id="安装中文输入法-谷歌"><a href="#安装中文输入法-谷歌" class="headerlink" title="安装中文输入法-谷歌"></a>安装中文输入法-谷歌</h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ sudo apt-get install fcitx fcitx-googlepinyin fcitx-module-cloudpinyin fcitx-sunpinyin</div></pre></td></tr></table></figure>
<p>安装完毕，重启即可</p>
<p>重启后，需打开<code>fcitx</code>配置界面，将Google pinyin添加到输入法选项中。</p>
<h3 id="安装Vim"><a href="#安装Vim" class="headerlink" title="安装Vim"></a>安装Vim</h3><p>安装<code>Ctags</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ sudo apt-get install exuberant-ctags</div></pre></td></tr></table></figure></p>
<p>配置github的ssh登录，克隆<code>Vim_ywl</code>库</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	
 
<nav id="pagination">
  
    <a href="/hexo_blog/page/2/" class="alignleft prev">上一页</a>
  
  
    <a href="/hexo_blog/page/4/" class="alignright next">下一页</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
        <aside id="sidebar" class="alignright">

   <div class="search">
  <form action="//baidu.com/s" method="get" accept-charset="utf-8">
    <input type="search" name="wd"results="0" placeholder="搜索">
    <input type="hidden" name="wd" value="site:ywlbupt.github.com/hexo_blog">
  </form>
</div> 


  
<div class="widget tag">
  <h3 class="title" id="categories">分类</h3>
<!--   
	
		<li><a class = "list-2"href="/hexo_blog/categories/Ubuntu/Basic/">Basic</a><small>2</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Python/Basic/">Basic</a><small>10</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Ubuntu/Cmd/">Cmd</a><small>8</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Diary/">Diary</a><small>0</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/Gallery/">Gallery</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Iterator/Generator/">Generator</a><small>1</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Git/">Git</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Markdown/Hexo/">Hexo</a><small>3</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Ubuntu/IDE/">IDE</a><small>3</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Iterator/">Iterator</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Python/Lib/">Lib</a><small>5</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Markdown/">Markdown</a><small>3</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/Network/">Network</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Vim/Plugin/">Plugin</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Python/">Python</a><small>18</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Python/Python-Basic/">Python_Basic</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Raspberry/">Raspberry</a><small>1</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/SQL/">SQL</a><small>2</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Network/SSH/">SSH</a><small>1</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/SQL/Sqlite3/">Sqlite3</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Ubuntu/">Ubuntu</a><small>13</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/Vim/">Vim</a><small>3</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/python/basic/">basic</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/isinstance/">isinstance</a><small>1</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/python/">python</a><small>2</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/isinstance/type/">type</a><small>1</small></li>
     
   -->


     <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Gallery/">Gallery</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Iterator/">Iterator</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Iterator/Generator/">Generator</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Markdown/">Markdown</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Markdown/Hexo/">Hexo</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Network/">Network</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Network/SSH/">SSH</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/">Python</a><span class="category-list-count">18</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/Basic/">Basic</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/Lib/">Lib</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/Python-Basic/">Python_Basic</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Raspberry/">Raspberry</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/SQL/">SQL</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/SQL/Sqlite3/">Sqlite3</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/">Ubuntu</a><span class="category-list-count">13</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/Basic/">Basic</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/Cmd/">Cmd</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/IDE/">IDE</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Vim/">Vim</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Vim/Plugin/">Plugin</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/isinstance/">isinstance</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/isinstance/type/">type</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/python/">python</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/python/basic/">basic</a><span class="category-list-count">2</span></li></ul></li></ul> 
</div>
 


  <div class="widget tag">
  <h3 class="title">日历云</h3>
  <div id="calendar"></div>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/hexo_blog/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/hexo_blog/tags/Zhihu/" style="font-size: 10px;">Zhihu</a> <a href="/hexo_blog/tags/ansible/" style="font-size: 10px;">ansible</a> <a href="/hexo_blog/tags/cmd/" style="font-size: 10px;">cmd</a> <a href="/hexo_blog/tags/codecs/" style="font-size: 10px;">codecs</a> <a href="/hexo_blog/tags/const/" style="font-size: 10px;">const</a> <a href="/hexo_blog/tags/dd/" style="font-size: 10px;">dd</a> <a href="/hexo_blog/tags/deb/" style="font-size: 10px;">deb</a> <a href="/hexo_blog/tags/df/" style="font-size: 10px;">df</a> <a href="/hexo_blog/tags/ejs引擎/" style="font-size: 10px;">ejs引擎</a> <a href="/hexo_blog/tags/escape/" style="font-size: 10px;">escape</a> <a href="/hexo_blog/tags/fdisk/" style="font-size: 10px;">fdisk</a> <a href="/hexo_blog/tags/find/" style="font-size: 10px;">find</a> <a href="/hexo_blog/tags/git/" style="font-size: 16.67px;">git</a> <a href="/hexo_blog/tags/grep/" style="font-size: 10px;">grep</a> <a href="/hexo_blog/tags/hexo/" style="font-size: 13.33px;">hexo</a> <a href="/hexo_blog/tags/hosts/" style="font-size: 10px;">hosts</a> <a href="/hexo_blog/tags/jacman/" style="font-size: 13.33px;">jacman</a> <a href="/hexo_blog/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/hexo_blog/tags/json/" style="font-size: 10px;">json</a> <a href="/hexo_blog/tags/object/" style="font-size: 10px;">object</a> <a href="/hexo_blog/tags/os/" style="font-size: 10px;">os</a> <a href="/hexo_blog/tags/python/" style="font-size: 20px;">python</a> <a href="/hexo_blog/tags/shutdown/" style="font-size: 10px;">shutdown</a> <a href="/hexo_blog/tags/snippets/" style="font-size: 10px;">snippets</a> <a href="/hexo_blog/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/hexo_blog/tags/string/" style="font-size: 10px;">string</a> <a href="/hexo_blog/tags/tmux/" style="font-size: 10px;">tmux</a> <a href="/hexo_blog/tags/tutorial/" style="font-size: 10px;">tutorial</a> <a href="/hexo_blog/tags/type/" style="font-size: 10px;">type</a> <a href="/hexo_blog/tags/vim/" style="font-size: 13.33px;">vim</a> <a href="/hexo_blog/tags/wrapper/" style="font-size: 10px;">wrapper</a> <a href="/hexo_blog/tags/yaml/" style="font-size: 10px;">yaml</a> <a href="/hexo_blog/tags/zt/" style="font-size: 10px;">zt</a> <a href="/hexo_blog/tags/科学上网/" style="font-size: 10px;">科学上网</a>
  </div>
</div>


</aside>

      <div class="clearfix"></div>
    </div>
  
  <footer id="footer"><div class="footer-content inner">
  <div class="alignleft">
  
    &copy; 2017 Wlin
    
  </div>
  <div class="alignright">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme
    <a href="https://github.com/pengloo53/Hexo-theme-light_cn">light_cn</a>
  </div>
  
  <div class="visit">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
  </div>
  
  <div class="clearfix"></div>
</div></footer>
  <script src="http://libs.baidu.com/jquery/2.1.1/jquery.min.js"></script>
<script src="/hexo_blog/js/jquery.imagesloaded.min.js"></script>
<script src="/hexo_blog/js/gallery.js"></script>

<!-- add calendar widget -->

  <script src="/hexo_blog/js/calendar.js"></script>
  <script src="/hexo_blog/js/languages.js"></script>
  <script type="text/javascript">
    $(function() {
    
      $('#calendar').aCalendar('zh-CN',{single:undefined, root:'calendar'});
    
    });
  </script>


<!-- 添加『不蒜子』计数服务 -->
<script async src="http://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<div id="toTop">
	<a href="#">▲</a>
	<a href="#footer">▼</a>
</div>


<!-- 目录与分类的切换按钮 -->
<script type="text/javascript">
$(document).ready(function(){ 
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#sidebar'),
      c = $('.closeaside'),
      o = $('.openaside');
      t = $('#toc.toc-aside')
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    // t.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    t.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>



</body>
</html>


