<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 4 页 | WiZero</title>
  <meta name="author" content="Wlin">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="WiZero"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  <link rel="alternate" href="/hexo_blog/atom.xml" title="WiZero" type="application/atom+xml">
  <link rel="stylesheet" href="/hexo_blog/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <meta name="wumiiVerification" content="fb50a101-84fe-4ca2-91a7-ae8cf792978b" />
  
  <meta name="wumiiVerification" content="d73b5866-c390-4156-a4dd-51b526b5335e" />
</head>

<body>
  <header id="header">
<div class= "header-content inner">
	<div class = "alignleft col-one">
		
			<div class='avatar'>
				<img src = "/hexo_blog/images/site/lufy-avatar.jpg">
              </div>
		
		<div class="header-div">
		    <h1><a href="/hexo_blog/">WiZero</a></h1>
		    <h2><a href="/hexo_blog/">阅读，思考，实践，不忘初心</a></h2>
		</div>
	</div>
	<div class = "alignright col-two">
		
	</div>
	<div class="clearfix"></div>
</div>

<div class= "header-nav">
	<div class='header-nav-content inner'>
		<div id="main-nav" class="alignleft">
			<ul>
		    		
		    		  <li><a href="/hexo_blog/./">首页</a></li>
		    		
		    		  <li><a href="/hexo_blog/archives">归档</a></li>
		    		
		    	</ul>
		</div>
		<div id="sub-nav" class="alignright">
     	 <ul>
		    
		      <li><a href="/hexo_blog/atom.xml">订阅</a></li>
		    
		      <li><a href="/hexo_blog/customization">留言</a></li>
		    
     	 </ul>
		</div>
	</div>
	<div class="clearfix"></div>
</div>
</header>
  
    <div id="content" class="inner">
      <div id="main-col" class="alignleft"><div id="wrapper">
	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#刷系统"><span class="toc-number">1.</span> <span class="toc-text">刷系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启用root账户"><span class="toc-number">2.</span> <span class="toc-text">启用root账户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SSH-登录"><span class="toc-number">3.</span> <span class="toc-text">SSH 登录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改树莓派hostname"><span class="toc-number">4.</span> <span class="toc-text">修改树莓派hostname</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看用户与用户组信息"><span class="toc-number">5.</span> <span class="toc-text">查看用户与用户组信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#软件更新sudo-apt-get-install-update"><span class="toc-number">6.</span> <span class="toc-text">软件更新sudo apt-get install update</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Tmux"><span class="toc-number">7.</span> <span class="toc-text">安装Tmux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装中文输入法-谷歌"><span class="toc-number">8.</span> <span class="toc-text">安装中文输入法-谷歌</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Vim"><span class="toc-number">9.</span> <span class="toc-text">安装Vim</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-08T14:43:25.000Z"><a href="/hexo_blog/2016/11/08/Ubuntu-2016-11-08-ubuntu-raspberry-开始配置树莓派/">2016-11-08</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/08/Ubuntu-2016-11-08-ubuntu-raspberry-开始配置树莓派/">ubuntu-raspberry~开始配置树莓派</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#刷系统"><span class="toc-number">1.</span> <span class="toc-text">刷系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启用root账户"><span class="toc-number">2.</span> <span class="toc-text">启用root账户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SSH-登录"><span class="toc-number">3.</span> <span class="toc-text">SSH 登录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改树莓派hostname"><span class="toc-number">4.</span> <span class="toc-text">修改树莓派hostname</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看用户与用户组信息"><span class="toc-number">5.</span> <span class="toc-text">查看用户与用户组信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#软件更新sudo-apt-get-install-update"><span class="toc-number">6.</span> <span class="toc-text">软件更新sudo apt-get install update</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Tmux"><span class="toc-number">7.</span> <span class="toc-text">安装Tmux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装中文输入法-谷歌"><span class="toc-number">8.</span> <span class="toc-text">安装中文输入法-谷歌</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Vim"><span class="toc-number">9.</span> <span class="toc-text">安装Vim</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<ul>
<li><a href="http://elinux.org/RPi_Easy_SD_Card_Setup" target="_blank" rel="external">比较权威的官方指导</a></li>
</ul>
<p>买的是树莓派3 B，自带WiFi，蓝牙</p>
<h3 id="刷系统"><a href="#刷系统" class="headerlink" title="刷系统"></a>刷系统</h3><ol>
<li><a href="https://www.raspberrypi.org/learning/software-guide/quickstart/" target="_blank" rel="external">官方quick start, noobs</a><ul>
<li><code>noobs</code> offline and network install</li>
<li><code>etcher.io</code> 烧写image文件</li>
<li><code>formatter</code> 格式化SD卡</li>
</ul>
</li>
</ol>
<p>为了避免无畏的工作，我直接购买了系统卡，以便快速上手。</p>
<p>在公司简单尝试了下刷系统，如果是在Windows下，其实还挺简单的。</p>
<p>基本思路是：</p>
<ol>
<li>下对应板子的系统，<br>鉴于raspberry Pi官方的系统资源比较多，就选择直接安装它。不捣鼓其他的版本了</li>
<li>在Windows下，下载刷镜像的软件win32disk</li>
<li>然后一顿傻瓜操作。。。</li>
</ol>
<p>过几天，我把上回购买的树莓派1 B+拿出来按同样的思路捣鼓一下，变废为宝。</p>
<h3 id="启用root账户"><a href="#启用root账户" class="headerlink" title="启用root账户"></a>启用root账户</h3><p>树莓派使用的linux是debian系统，所以树莓派启用root和debian是相同的。</p>
<p>debian里root账户默认没有密码，但账户锁定。</p>
<p>当需要root权限时，由默认账户经由sudo执行，Raspberry pi 系统中的Raspbian</p>
<p><strong>默认用户是pi 密码为raspberry</strong></p>
<p>重新开启root账号，可由pi用户登录后，在命令行下执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo passwd root</div></pre></td></tr></table></figure>
<p>执行此命令后系统会提示输入两遍的root密码，输入你想设的密码即可，然后在执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo passwd --unlock root</div></pre></td></tr></table></figure>
<p>这样就可以解锁root账户了。</p>
<p>当从root用户切换到pi用户后，我们再次使用<code>su passwd root</code>来修改密码，会报错</p>
<h3 id="SSH-登录"><a href="#SSH-登录" class="headerlink" title="SSH 登录"></a>SSH 登录</h3><p>对于树莓派3，默认开启SSH服务。（如果树莓派1不开启，就接上显示屏打开配置）</p>
<p>如果没有显示屏，从另一个角度，可以采用端口扫描的方法，扫出树莓派的IP地址。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"><span class="comment"># 排除192.168.99.1这个路由器地址，查看哪个端口的port 22是Open状态</span></div><div class="line">$ nmap <span class="_">-s</span>P 192.168.99.100-254</div></pre></td></tr></table></figure>
<p>示例输出：<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">Starting Nmap 6.40 ( http://nmap.org ) at 2016-11-28 23:46 CST</div><div class="line">Nmap scan report <span class="keyword">for</span> MI5sPlus-xiaomishouj.lan (192.168.99.103)</div><div class="line">Host is up (0.091s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> chuangmi-plug-m1_miio45324900.lan (192.168.99.105)</div><div class="line">Host is up (0.049s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> zhimi-airpurifier-m1_miio12912092.lan (192.168.99.107)</div><div class="line">Host is up (0.11s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> 192.168.99.137</div><div class="line">Host is up (0.00057s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> raspberrypi.lan (192.168.99.144)</div><div class="line">Host is up (0.00022s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> MI5s-xiaomishouji.lan (192.168.99.153)</div><div class="line">Host is up (0.24s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> ywl-ThinkPad-E420.lan (192.168.99.210)</div><div class="line">Host is up (0.00012s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> ESP_C37984.lan (192.168.99.216)</div><div class="line">Host is up (0.058s latency).</div><div class="line">Nmap scan report <span class="keyword">for</span> zhimi-airpurifier-m1_miio12647059.lan (192.168.99.224)</div><div class="line">Host is up (0.052s latency).</div><div class="line">Nmap <span class="keyword">done</span>: 155 IP addresses (9 hosts up) scanned <span class="keyword">in</span> 19.43 seconds</div></pre></td></tr></table></figure></p>
<p>或者：<br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ nmap -v <span class="_">-s</span>T 192.168.99.100-254</div></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ ssh pi@&lt;ip address&gt;</div></pre></td></tr></table></figure>
<p>用户名为<code>pi</code>，密码默认为<code>raspberry</code></p>
<h3 id="修改树莓派hostname"><a href="#修改树莓派hostname" class="headerlink" title="修改树莓派hostname"></a>修改树莓派hostname</h3><ol>
<li>修改主机名，<code>sudo vim /etc/hostname</code><br>修改成想要的主机名字</li>
<li>修改hosts文件，<code>sudo vim /etc/hosts</code><br>替换原先所有的主机名</li>
<li>重启设备，生效</li>
</ol>
<h3 id="查看用户与用户组信息"><a href="#查看用户与用户组信息" class="headerlink" title="查看用户与用户组信息"></a>查看用户与用户组信息</h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">grep pi /etc/passwd /etc/group /etc/shadow</div></pre></td></tr></table></figure>
<h3 id="软件更新sudo-apt-get-install-update"><a href="#软件更新sudo-apt-get-install-update" class="headerlink" title="软件更新sudo apt-get install update"></a>软件更新<code>sudo apt-get install update</code></h3><p>google一下，修改软件源，不然更新太慢了。</p>
<h3 id="安装Tmux"><a href="#安装Tmux" class="headerlink" title="安装Tmux"></a>安装<code>Tmux</code></h3><p>试过未更新软件包，直接安装<code>tmux</code>，会提示找不到包<code>tmux</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ sudo apt-get install tmux</div></pre></td></tr></table></figure>
<p>然后将<code>~/.tmux.conf</code>(该文件从<code>Vim_ywl</code>git库中找)里面的内容拷贝到Raspberry相应的文件中。(拷贝前，可以先安装xclip，利用系统剪贴板方便操作)</p>
<h3 id="安装中文输入法-谷歌"><a href="#安装中文输入法-谷歌" class="headerlink" title="安装中文输入法-谷歌"></a>安装中文输入法-谷歌</h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ sudo apt-get install fcitx fcitx-googlepinyin fcitx-module-cloudpinyin fcitx-sunpinyin</div></pre></td></tr></table></figure>
<p>安装完毕，重启即可</p>
<p>重启后，需打开<code>fcitx</code>配置界面，将Google pinyin添加到输入法选项中。</p>
<h3 id="安装Vim"><a href="#安装Vim" class="headerlink" title="安装Vim"></a>安装Vim</h3><p>安装<code>Ctags</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ sudo apt-get install exuberant-ctags</div></pre></td></tr></table></figure></p>
<p>配置github的ssh登录，克隆<code>Vim_ywl</code>库</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#概述"><span class="toc-number">1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#主机发现"><span class="toc-number">2.</span> <span class="toc-text">主机发现</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-11-08T13:01:18.000Z"><a href="/hexo_blog/2016/11/08/Ubuntu-Cmd-2016-11-08-ubuntu-cmd-nmap-端口扫描命令/">2016-11-08</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/11/08/Ubuntu-Cmd-2016-11-08-ubuntu-cmd-nmap-端口扫描命令/">ubuntu-cmd~nmap-端口扫描命令</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#概述"><span class="toc-number">1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#主机发现"><span class="toc-number">2.</span> <span class="toc-text">主机发现</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<ol>
<li><a href="http://www.cnblogs.com/st-leslie/p/5115280.html" target="_blank" rel="external">端口扫描之王-nmap</a></li>
</ol>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>nmap包含四项基本功能：</p>
<p>主机发现（Host Discovery）<br>端口扫描（Port Scanning）<br>版本侦测（Version Detection）<br>操作系统侦测（Operating System Detection）</p>
<h2 id="主机发现"><a href="#主机发现" class="headerlink" title="主机发现"></a>主机发现</h2>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#sys-modules字典"><span class="toc-number">1.</span> <span class="toc-text">sys.modules字典</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sys-Usage"><span class="toc-number">2.</span> <span class="toc-text">sys Usage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sys-stdout-stderr-标准输出，错误信息的重定向"><span class="toc-number">3.</span> <span class="toc-text">sys.stdout/stderr 标准输出，错误信息的重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#打印重定向"><span class="toc-number">3.1.</span> <span class="toc-text">打印重定向</span></a></li></ol></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-10-29T00:36:12.000Z"><a href="/hexo_blog/2016/10/29/Python-Lib-2016-10-29-python-lib-sys/">2016-10-29</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/10/29/Python-Lib-2016-10-29-python-lib-sys/">python-lib~sys</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#sys-modules字典"><span class="toc-number">1.</span> <span class="toc-text">sys.modules字典</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sys-Usage"><span class="toc-number">2.</span> <span class="toc-text">sys Usage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sys-stdout-stderr-标准输出，错误信息的重定向"><span class="toc-number">3.</span> <span class="toc-text">sys.stdout/stderr 标准输出，错误信息的重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#打印重定向"><span class="toc-number">3.1.</span> <span class="toc-text">打印重定向</span></a></li></ol></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<h3 id="sys-modules字典"><a href="#sys-modules字典" class="headerlink" title="sys.modules字典"></a>sys.modules字典</h3><p><code>sys.modules</code>是一个全局字典，该字典是Python启动后就加载在内存中。</p>
<p>每当程序员导入新的模块，<strong><code>sys.modules</code>都将记录这些模块</strong>。字典sys.modules对于加载模块起到了缓冲的作用。</p>
<p>当某个模块第一次导入，字典<code>sys.modules</code>将自动记录该模块。</p>
<p>当第二次再导入该模块时，python会直接到字典中查找，从而加快了程序运行的速度。</p>
<p>字典<code>sys.modules</code>具有字典所拥有的一切方法，可以通过这些方法了解当前的环境加载了哪些模块。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span>  sys</div><div class="line"><span class="keyword">print</span> sys.modules.keys()</div><div class="line"><span class="keyword">print</span> sys.modules.values()</div><div class="line"><span class="keyword">print</span> sys.modules[<span class="string">"os"</span>]</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; import sys</div><div class="line">&gt;&gt;&gt; <span class="built_in">print</span>(sys.modules[<span class="string">"os"</span>])</div><div class="line">&lt;module <span class="string">'os'</span> from <span class="string">'/home/ywl/.pyenv/versions/anaconda3-2.4.0/lib/python3.5/os.py'</span>&gt;</div></pre></td></tr></table></figure>
<h3 id="sys-Usage"><a href="#sys-Usage" class="headerlink" title="sys Usage"></a>sys Usage</h3><ul>
<li>使用sys.platform获得当前平台<br><code>&gt;&gt; sys.platform</code>  返回当前平台 出现如： “win32” “linux” 等</li>
<li>使用<code>sys.exit(1)</code> 退出程序<ul>
<li>注意 <code>sys.exit</code> 并不是立即退出. 而是引发一个 <code>SystemExit</code> 异常. 这意味着你可以在主程序中捕获对 <code>sys.exit</code> 的调用</li>
<li><code>sys.exit(0)</code>返回值为0是正常退出程序，其余值<code>0~127</code>均为不正常的退出</li>
</ul>
</li>
<li><code>sys.path</code> 模块搜索路径列表</li>
</ul>
<h3 id="sys-stdout-stderr-标准输出，错误信息的重定向"><a href="#sys-stdout-stderr-标准输出，错误信息的重定向" class="headerlink" title="sys.stdout/stderr 标准输出，错误信息的重定向"></a>sys.stdout/stderr 标准输出，错误信息的重定向</h3><ul>
<li>可处理标准输出/输入(通常缩写为 <code>stdout</code> 和 <code>stderr</code>) <ul>
<li><code>stdout</code> <code>stderr</code>是内建在每一个 UNIX 系统中的管道。..<ul>
<li>当print 某些东西时，结果前往 <code>stdout</code> 管道；</li>
<li>当程序崩溃并打印出调试信息 (例如 Python 中的 traceback (错误跟踪)) 的时候，信息前往 <code>stderr</code> 管道</li>
</ul>
</li>
<li><code>stdout</code>, <code>stderr</code>都是类文件对象，都是只写的。通过 <code>sys.stdout.write(string)</code>操作</li>
</ul>
</li>
</ul>
<h4 id="打印重定向"><a href="#打印重定向" class="headerlink" title="打印重定向"></a>打印重定向</h4><p>向标准错误写入错误信息是很常见的，所以有一种较快的语法可以立刻导出信息</p>
<ul>
<li><p>python 2</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> &gt;&gt; sys.stderr, <span class="string">'entering function'</span></div><div class="line">entering function</div></pre></td></tr></table></figure>
</li>
<li><p>python 3</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line">print(<span class="string">"entering function"</span>, file=sys.stderr)</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#错误列表"><span class="toc-number">1.</span> <span class="toc-text">错误列表</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-10-29T00:19:47.000Z"><a href="/hexo_blog/2016/10/29/Python-Basic-2016-10-29-python-basic-Error异常错误处理/">2016-10-29</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/10/29/Python-Basic-2016-10-29-python-basic-Error异常错误处理/">python-basic~Error异常错误处理</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#错误列表"><span class="toc-number">1.</span> <span class="toc-text">错误列表</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<h3 id="错误列表"><a href="#错误列表" class="headerlink" title="错误列表"></a>错误列表</h3><p><code>TypeError</code> 类型错误</p>
<p>错误类的继承<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConstError</span><span class="params">(TypeError)</span>:</span> <span class="keyword">pass</span></div></pre></td></tr></table></figure></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#命名风格-约定成俗"><span class="toc-number">1.</span> <span class="toc-text">命名风格-约定成俗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常量的属性常量的属性"><span class="toc-number">2.</span> <span class="toc-text">常量的属性常量的属性</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-10-29T00:03:43.000Z"><a href="/hexo_blog/2016/10/29/Python-Basic-2016-10-29-python-basic-const常量的处理/">2016-10-29</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/10/29/Python-Basic-2016-10-29-python-basic-const常量的处理/">python-basic~const常量的处理</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#命名风格-约定成俗"><span class="toc-number">1.</span> <span class="toc-text">命名风格-约定成俗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常量的属性常量的属性"><span class="toc-number">2.</span> <span class="toc-text">常量的属性常量的属性</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<ol>
<li>《编写高质量代码：改善Python程序》</li>
</ol>
<h3 id="命名风格-约定成俗"><a href="#命名风格-约定成俗" class="headerlink" title="命名风格-约定成俗"></a>命名风格-约定成俗</h3><p>通过命名风格来提醒使用者该变量代表的是常量</p>
<ul>
<li>常量所有的字母大写</li>
<li>用下划线连接各个单词。</li>
</ul>
<h3 id="常量的属性常量的属性"><a href="#常量的属性常量的属性" class="headerlink" title="常量的属性常量的属性"></a>常量的属性常量的属性</h3><ul>
<li>风格要有-所有字母均大写；下划线连接各个单词</li>
<li>常量值一旦绑定便不能再修改</li>
</ul>
<p><strong>可以通过自定义类来实现常量的属性</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="comment"># const.py</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">_const</span>:</span></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ConstError</span><span class="params">(TypeError)</span>:</span> <span class="keyword">pass</span></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ConstCaseError</span><span class="params">(ConstError)</span>:</span> <span class="keyword">pass</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self, name, value)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.__dict__.has_key(name):</div><div class="line">            <span class="keyword">raise</span> self.ConstError, <span class="string">"Can't change const.%s"</span> % name</div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> name.isupper():</div><div class="line">            <span class="keyword">raise</span> self.ConstCaseError, \</div><div class="line">              <span class="string">'const name "%s" is not all uppercase'</span> % name</div><div class="line">        self.__dict__[name] = value</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="comment"># 如此操作与私有类相似</span></div><div class="line">sys.modules[__name__]=_const()</div></pre></td></tr></table></figure>
<p>如果上面的代码对应的模块名为<code>const</code>，使用的时候只需要<code>import const</code>，便可以直接定义常量了，如以下代码：<br><code>`python
import const
const.COMPANY = &quot;IBM&quot;</code>！<code>上面的代码中常量一旦赋值便不可再更改，因此</code>const.COMPANY = “SAP”<code>会抛出</code>const.ConstError<code>:异常，
而常量名称如果小写，如</code>const.name = “Python”<code>，也会抛出</code>const.ConstCaseError`异常。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Install"><span class="toc-number">1.</span> <span class="toc-text">Install</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rsync文件同步模块"><span class="toc-number">2.</span> <span class="toc-text">rsync文件同步模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ubuntu-Install-rsync"><span class="toc-number">3.</span> <span class="toc-text">Ubuntu Install rsync</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#语法"><span class="toc-number">3.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Section-Name"><span class="toc-number">3.2.</span> <span class="toc-text">Section Name</span></a></li></ol></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-10-25T02:48:19.000Z"><a href="/hexo_blog/2016/10/25/Python-Lib-2016-10-25-python-lib-自动化运维工具/">2016-10-25</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/10/25/Python-Lib-2016-10-25-python-lib-自动化运维工具/">python-lib~自动化运维工具</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Install"><span class="toc-number">1.</span> <span class="toc-text">Install</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rsync文件同步模块"><span class="toc-number">2.</span> <span class="toc-text">rsync文件同步模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ubuntu-Install-rsync"><span class="toc-number">3.</span> <span class="toc-text">Ubuntu Install rsync</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#语法"><span class="toc-number">3.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Section-Name"><span class="toc-number">3.2.</span> <span class="toc-text">Section Name</span></a></li></ol></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<p>目前市场上主流的开源自动化配置管理工具有puppet、chef、ansible、saltstack。到底选择哪一个好？<br>我为什么选择Saltstack，考虑方式很简单，主要基于如下两个方面：<br>第一、语言的选择（puppet/chef vs ansible/saltstack）<br>开源技术，不看官网不足以熟练，不懂源码不足以精通<br>Puppet、Chef基于Ruby开发，ansible、saltstack基于python开发的<br>本人热衷于python（后期可做二次开发），排除Puppet、Chef<br>第二、速度的选择 (ansible vs saltstack)<br>管理配置讲究的是更快更稳<br>ansible基于SSH协议传输数据，Saltstack使用消息队列zeroMQ传输数据</p>
<h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">pip install ansible</div></pre></td></tr></table></figure>
<h3 id="rsync文件同步模块"><a href="#rsync文件同步模块" class="headerlink" title="rsync文件同步模块"></a>rsync文件同步模块</h3><p><a href="http://taohui.org.cn/rsync_algorithm.html" target="_blank" rel="external">详解rsync算法–如何减少同步文件时的网络传输量</a></p>
<ul>
<li>md5，哈希算法，把任意长度额字符串转化为固定的128字符，<ul>
<li>相同的字符串不可能计算出不同的MD5值</li>
<li>MD5碰撞是有可能的：两个不同的字符串有可能计算出相同的MD5值，但几率非常小，可以忽略不计</li>
<li>rsync中，同一个文件按1k分割成多块，计算每一个块的MD5值。</li>
</ul>
</li>
<li>alder32校验和，把1K块数据映射成32位整型数字<ul>
<li>相同的字符串不可能计算出不同的Alder32</li>
<li>计算速度较MD5快得多，成本小；</li>
<li>当有了从0-1024长度的校验和后，计算出1-1025或者2-1026等其他校验和非常方便，只要少量运算即可</li>
<li>碰撞率比MD5高多了</li>
</ul>
</li>
</ul>
<h3 id="Ubuntu-Install-rsync"><a href="#Ubuntu-Install-rsync" class="headerlink" title="Ubuntu Install rsync"></a>Ubuntu Install rsync</h3><p><a href="http://man.linuxde.net/rsync" target="_blank" rel="external">Linux命令大全-rsync命令</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo apt-get install rsync</div></pre></td></tr></table></figure>
<p>但是需要注意的是必须在服务器A和B上都安装rsync，<br>其中A服务器上是以服务器模式运行rsync，<br>而B上则以客户端方式运行rsync。<br>这样在web服务器A上运行rsync守护进程，在B上定时运行客户程序来备份web服务器A上需要备份的内容。</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">rsync [OPTION]... SRC DEST </div><div class="line">rsync [OPTION]... SRC [USER@]host:DEST </div><div class="line">rsync [OPTION]... [USER@]HOST:SRC DEST </div><div class="line">rsync [OPTION]... [USER@]HOST::SRC DEST </div><div class="line">rsync [OPTION]... SRC [USER@]HOST::DEST </div><div class="line">rsync [OPTION]...  rsync://[USER@]HOST[:PORT]/SRC [DEST]</div></pre></td></tr></table></figure>
<p>对应于以上六种命令格式，rsync有六种不同的工作模式：</p>
<ol>
<li>拷贝本地文件。当<code>SRC</code>和<code>DES</code>路径信息都不包含有单个冒号”:”分隔符时就启动这种工作模式。如：<code>rsync -a /data /backup</code> </li>
<li>使用一个远程shell程序(如<code>rsh</code>、<code>ssh</code>)来实现将本地机器的内容拷贝到远程机器。当DST路径地址包含单个冒号<code>&quot;:&quot;</code>分隔符时启动该模式。如：<code>rsync -avz *.c foo:src</code> </li>
<li>使用一个远程shell程序(如<code>rsh</code>、<code>ssh</code>)来实现将远程机器的内容拷贝到本地机器。当SRC地址路径包含单个冒号<code>&quot;:&quot;</code>分隔符时启动该模式。如：<code>rsync -avz foo:src/bar /data</code> </li>
<li>从远程rsync服务器中拷贝文件到本地机。当<code>SRC</code>路径信息包含<code>&quot;::&quot;</code>分隔符时启动该模式。如：<code>rsync -av root@192.168.78.192::www /databack</code> 从本地机器拷贝文件到远程rsync服务器中。</li>
<li>当<code>DST</code>路径信息包含<code>&quot;::&quot;</code>分隔符时启动该模式。如：<code>rsync -av /databack root@192.168.78.192::www</code> </li>
<li>列远程机的文件列表。这类似于rsync传输，不过只要在命令中省略掉本地机信息即可。如：<code>rsync -v rsync://192.168.78.192/www</code></li>
</ol>
<ul>
<li><code>-a</code> 归档模式，表示以递归方式传输文件，并保持所有文件属性，等于-rlptgoD</li>
<li><code>-z</code> 在传输文件时做压缩处理</li>
<li><code>-v</code> 详细模式输出，信息回显</li>
</ul>
<h4 id="Section-Name"><a href="#Section-Name" class="headerlink" title="Section Name"></a>Section Name</h4><p>-v, –verbose 详细模式输出<br>-q, –quiet 精简输出模式<br>-c, –checksum 打开校验开关，强制对文件传输进行校验<br><strong>-a, –archive 归档模式，表示以递归方式传输文件，并保持所有文件属性，等于-rlptgoD</strong><br>-r, –recursive 对子目录以递归模式处理<br>-R, –relative 使用相对路径信息<br>-b, –backup 创建备份，也就是对于目的已经存在有同样的文件名时，将老的文件重新命名为~filename<br>可以使用–suffix选项来指定不同的备份文件前缀<br>–backup-dir 将备份文件(如~filename)存放在在目录下<br>-suffix=SUFFIX 定义备份文件前缀<br><strong>-u, –update 仅仅进行更新，也就是跳过所有已经存在于DST，并且文件时间晚于要备份的文件，不覆盖更新的文件</strong><br>-l, –links 保留软链结<br>-L, –copy-links 想对待常规文件一样处理软链结<br>–copy-unsafe-links 仅仅拷贝指向SRC路径目录树以外的链结<br>–safe-links 忽略指向SRC路径目录树以外的链结<br>-H, –hard-links 保留硬链结<br>-p, –perms 保持文件权限<br>-o, –owner 保持文件属主信息<br>-g, –group 保持文件属组信息<br>-D, –devices 保持设备文件信息<br>-t, –times 保持文件时间信息<br>-S, –sparse 对稀疏文件进行特殊处理以节省DST的空间<br>-n, –dry-run现实哪些文件将被传输<br>-w, –whole-file 拷贝文件，不进行增量检测<br>-x, –one-file-system 不要跨越文件系统边界<br>-B, –block-size=SIZE 检验算法使用的块尺寸，默认是700字节<br><strong>-e, –rsh=command 指定使用rsh、ssh方式进行数据同步<code>-e ssh</code></strong><br>–rsync-path=PATH 指定远程服务器上的rsync命令所在路径信息<br>-C, –cvs-exclude 使用和CVS一样的方法自动忽略文件，用来排除那些不希望传输的文件<br><strong>–existing 仅仅更新那些已经存在于DST的文件，而不备份那些新创建的文件</strong><br><strong>–delete 删除那些DST中SRC没有的文件</strong><br>–delete-excluded 同样删除接收端那些被该选项指定排除的文件<br>–delete-after 传输结束以后再删除<br>–ignore-errors 及时出现IO错误也进行删除<br>–max-delete=NUM 最多删除NUM个文件<br>–partial 保留那些因故没有完全传输的文件，以是加快随后的再次传输<br>–force 强制删除目录，即使不为空<br>–numeric-ids 不将数字的用户和组id匹配为用户名和组名<br>–timeout=time ip超时时间，单位为秒<br>-I, –ignore-times 不跳过那些有同样的时间和长度的文件<br>–size-only 当决定是否要备份文件时，仅仅察看文件大小而不考虑文件时间<br>–modify-window=NUM 决定文件是否时间相同时使用的时间戳窗口，默认为0<br>-T –temp-dir=DIR 在DIR中创建临时文件<br>–compare-dest=DIR 同样比较DIR中的文件来决定是否需要备份<br>-P 等同于 –partial<br>–progress 显示备份过程<br><strong>-z, –compress 对备份的文件在传输时进行压缩处理</strong><br>–exclude=PATTERN 指定排除不需要传输的文件模式<br>–include=PATTERN 指定不排除而需要传输的文件模式<br>–exclude-from=FILE 排除FILE中指定模式的文件<br>–include-from=FILE 不排除FILE指定模式匹配的文件<br>–version 打印版本信息<br>–address 绑定到特定的地址<br>–config=FILE 指定其他的配置文件，不使用默认的rsyncd.conf文件<br>–port=PORT 指定其他的rsync服务端口<br>–blocking-io 对远程shell使用阻塞IO<br>-stats 给出某些文件的传输状态<br>–progress 在传输时现实传输过程<br>–log-format=formAT 指定日志文件格式<br>–password-file=FILE 从FILE中得到密码<br>–bwlimit=KBPS 限制I/O带宽，KBytes per second<br>-h, –help 显示帮助信息</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#参考链接"><span class="toc-number">1.</span> <span class="toc-text">参考链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看文件夹大小"><span class="toc-number">2.</span> <span class="toc-text">查看文件夹大小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看文件大小"><span class="toc-number">3.</span> <span class="toc-text">查看文件大小</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-10-24T01:29:18.000Z"><a href="/hexo_blog/2016/10/24/Ubuntu-Cmd-2016-10-24-ubuntu-basic-usage/">2016-10-24</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/10/24/Ubuntu-Cmd-2016-10-24-ubuntu-basic-usage/">ubuntu-basic~usage</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#参考链接"><span class="toc-number">1.</span> <span class="toc-text">参考链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看文件夹大小"><span class="toc-number">2.</span> <span class="toc-text">查看文件夹大小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看文件大小"><span class="toc-number">3.</span> <span class="toc-text">查看文件大小</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p><a href="http://www.cnblogs.com/huashiyiqike/p/3614790.html" target="_blank" rel="external">关机，休眠，远程登录</a></p>
<h3 id="查看文件夹大小"><a href="#查看文件夹大小" class="headerlink" title="查看文件夹大小"></a>查看文件夹大小</h3><p>如要查看当前目录已使用的总空间大小及当前目录下一级文件和文件夹各自</p>
<p>使用的总空间大小，使用 <code>$ du -h --max-depth=1</code>命令即可。</p>
<h3 id="查看文件大小"><a href="#查看文件大小" class="headerlink" title="查看文件大小"></a>查看文件大小</h3><p>使用<code>ls -lh</code>命令即可</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#coding-UTF-8"><span class="toc-number">1.</span> <span class="toc-text">-- coding: UTF-8 --</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-10-21T06:23:20.000Z"><a href="/hexo_blog/2016/10/21/Python-Basic-2016-10-21-python-basic-python垃圾回收/">2016-10-21</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/10/21/Python-Basic-2016-10-21-python-basic-python垃圾回收/">python-basci~python垃圾回收</a></h1>
  

    </header>

    <div class="entry">
      
        <p>[Toc]</p>
<p>同Java语言一样，Python使用了<strong>引用计数</strong>这一简单技术来追踪内存中的对象。</p>
<p>在Python内部记录着所有使用中的对象各有多少引用。</p>
<p>一个内部跟踪变量，称为一个引用计数器。</p>
<p>当对象被创建时， 就创建了一个引用计数， 当这个对象不再需要时， 也就是说， 这个对象的引用计数变为0 时， 它被垃圾回收。</p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/hexo_blog/2016/10/21/Python-Basic-2016-10-21-python-basic-python垃圾回收/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本类属性"><span class="toc-number">1.</span> <span class="toc-text">基本类属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基础重载方法"><span class="toc-number">2.</span> <span class="toc-text">基础重载方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运算符重载"><span class="toc-number">3.</span> <span class="toc-text">运算符重载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TBD"><span class="toc-number">4.</span> <span class="toc-text">TBD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#生成器-iterator"><span class="toc-number">5.</span> <span class="toc-text">生成器 iterator</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#像list-dict一样工作"><span class="toc-number">5.1.</span> <span class="toc-text">像list,dict一样工作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#属性＠property"><span class="toc-number">6.</span> <span class="toc-text">属性＠property</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getattr-动态调用类方法与属性"><span class="toc-number">7.</span> <span class="toc-text">getattr 动态调用类方法与属性</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-10-21T06:19:53.000Z"><a href="/hexo_blog/2016/10/21/Python-Basic-2016-10-21-python-basic-python内置类属性/">2016-10-21</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/10/21/Python-Basic-2016-10-21-python-basic-python内置类属性/">python-basic~python定制类及类属性</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本类属性"><span class="toc-number">1.</span> <span class="toc-text">基本类属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基础重载方法"><span class="toc-number">2.</span> <span class="toc-text">基础重载方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运算符重载"><span class="toc-number">3.</span> <span class="toc-text">运算符重载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TBD"><span class="toc-number">4.</span> <span class="toc-text">TBD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#生成器-iterator"><span class="toc-number">5.</span> <span class="toc-text">生成器 iterator</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#像list-dict一样工作"><span class="toc-number">5.1.</span> <span class="toc-text">像list,dict一样工作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#属性＠property"><span class="toc-number">6.</span> <span class="toc-text">属性＠property</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getattr-动态调用类方法与属性"><span class="toc-number">7.</span> <span class="toc-text">getattr 动态调用类方法与属性</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<h3 id="基本类属性"><a href="#基本类属性" class="headerlink" title="基本类属性"></a>基本类属性</h3><ul>
<li><code>__class__</code>: 类名字，类函数内部可由此调用<strong>自身类属性</strong> <code>self.__class__.property</code></li>
<li><code>__name__</code>: 类名，外部调用，一般通过实例访问属性<ul>
<li>在测试单文档中，通常会有这么一个语句 <code>if __name__ == &quot;__main__&quot;:</code><ul>
<li>如果是直接运行该文档，则 <code>__name__= &quot;__main__&quot;</code></li>
<li>如果是从其他文件如<code>HelloPython.py</code>中<code>import</code>该模块，<br>则<code>__name__ = &quot;HelloPython&quot;</code><br><code>__module__</code>: 类定义所在的模块（类的全名是<code>__main__.className</code>，如果类位于一个导入模块mymod中，那么<code>className.__module__</code> 等于 mymod）<br><strong>dict</strong> : 类的属性（包含一个字典，由类的数据属性组成）<br><strong>doc</strong> :类的文档字符串<br><strong>bases</strong> : 类的所有父类构成元素（包含了一个由所有父类组成的元组）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="基础重载方法"><a href="#基础重载方法" class="headerlink" title="基础重载方法"></a>基础重载方法</h3><p>基础重载方法<br>下表列出了一些通用的功能，你可以在自己的类重写：<br>序号  方法, 描述 &amp; 简单的调用</p>
<ul>
<li><code>__init__ ( self [,args...] )</code> 构造函数<br>简单的调用方法: <code>obj = className(args)</code></li>
<li><code>__del__( self )</code> 析构方法, 删除一个对象<br>简单的调用方法 : <code>dell obj</code></li>
<li><code>__repr__( self )</code> 转化为供解释器读取的形式<br>简单的调用方法 : <code>repr(obj)</code></li>
<li><code>__str__( self )</code> 用于将值转化为适于人阅读的形式<br>简单的调用方法 : <code>str(obj)</code><br>也可以通过<code>print(object)</code>打印</li>
<li><code>__cmp__ ( self, x )</code> 对象比较<br>简单的调用方法 : <code>cmp(obj, x)</code></li>
<li><code>__len__(self)</code>返回个数</li>
</ul>
<h3 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h3><ul>
<li><code>__add__(self, other)</code></li>
</ul>
<h3 id="TBD"><a href="#TBD" class="headerlink" title="TBD"></a>TBD</h3><p><code>__import__</code></p>
<p><code>__setattr__</code></p>
<h3 id="生成器-iterator"><a href="#生成器-iterator" class="headerlink" title="生成器 iterator"></a>生成器 iterator</h3><ul>
<li><code>__iter__</code> 和 <code>__next__</code></li>
</ul>
<h4 id="像list-dict一样工作"><a href="#像list-dict一样工作" class="headerlink" title="像list,dict一样工作"></a>像list,dict一样工作</h4><ul>
<li><p><code>__getitem__</code>, </p>
<ul>
<li><code>isinstance(n, slice)</code> 切片处理判断<ul>
<li>把<code>slice</code>也当做一个对象处理</li>
<li><code>start = n.start</code> ,<code>stop = n.stop</code> </li>
</ul>
</li>
<li>对负数进行处理判断</li>
</ul>
</li>
<li><p><code>__setitem__</code>方法，把对象视为<code>list dict</code>来对集合赋值</p>
</li>
<li><code>__delitem__</code>方法，删除某元素</li>
</ul>
<h3 id="属性＠property"><a href="#属性＠property" class="headerlink" title="属性＠property"></a>属性＠property</h3><p>装饰器（decorator）可以给函数动态加上功能</p>
<p>对于类的方法，装饰器一样起作用。Python内置的@property装饰器就是负责把一个方法变成属性调用<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></div><div class="line"></div><div class="line"><span class="meta">    @property</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self._score</div><div class="line"></div><div class="line"><span class="meta">    @score.setter</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self, value)</span>:</span></div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(value, int):</div><div class="line">            <span class="keyword">raise</span> ValueError(<span class="string">'score must be an integer!'</span>)</div><div class="line">        <span class="keyword">if</span> value &lt; <span class="number">0</span> <span class="keyword">or</span> value &gt; <span class="number">100</span>:</div><div class="line">            <span class="keyword">raise</span> ValueError(<span class="string">'score must between 0 ~ 100!'</span>)</div><div class="line">        self._score = value</div></pre></td></tr></table></figure></p>
<p>把一个方法<code>score()</code>变成属性，只需要加上<code>@property</code>便可。可以在方法中添加参数检查等</p>
<p>此时，<code>@property</code>又创建了另一个装饰器<code>@score.setter</code>，负责把一个setter()方法<br>变成属性赋值，于是可以如下应用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; s = Student()</div><div class="line">&gt;&gt;&gt; s.score = 60 <span class="comment"># OK，实际转化为s.set_score(60)</span></div><div class="line">&gt;&gt;&gt; s.score <span class="comment"># OK，实际转化为s.get_score()</span></div><div class="line">60</div><div class="line">&gt;&gt;&gt; s.score = 9999</div><div class="line">Traceback (most recent call last):</div><div class="line">  ...</div><div class="line">ValueError: score must between 0 ~ 100!</div></pre></td></tr></table></figure>
<p>注意到这个神奇的<code>@property</code>，我们在对实例属性操作的时候，就知道该属性很可能不是直接暴露的，而是通过getter和setter方法来实现的。</p>
<p><strong>还可以定义只读属性，只定义getter方法，不定义setter方法就是一个只读属性</strong></p>
<h3 id="getattr-动态调用类方法与属性"><a href="#getattr-动态调用类方法与属性" class="headerlink" title="getattr 动态调用类方法与属性"></a><strong>getattr</strong> 动态调用类方法与属性</h3>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	

	
    		
    
      <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#匹配的规则选项"><span class="toc-number">1.</span> <span class="toc-text">匹配的规则选项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#flag语法"><span class="toc-number">1.1.</span> <span class="toc-text">flag语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用限定符及贪婪greedy匹配"><span class="toc-number">2.</span> <span class="toc-text">常用限定符及贪婪greedy匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#贪婪"><span class="toc-number">2.1.</span> <span class="toc-text">贪婪</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#非贪婪"><span class="toc-number">2.2.</span> <span class="toc-text">非贪婪</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#特殊符号的匹配"><span class="toc-number">2.3.</span> <span class="toc-text">特殊符号的匹配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#group-分组匹配"><span class="toc-number">3.</span> <span class="toc-text">group 分组匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#分组的嵌套"><span class="toc-number">3.1.</span> <span class="toc-text">分组的嵌套</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展匹配"><span class="toc-number">3.2.</span> <span class="toc-text">扩展匹配(?...)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#前后相匹配"><span class="toc-number">3.3.</span> <span class="toc-text">前后相匹配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-查找"><span class="toc-number">4.</span> <span class="toc-text">re Function 查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-引用"><span class="toc-number">5.</span> <span class="toc-text">re Function 引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-修改"><span class="toc-number">6.</span> <span class="toc-text">re Function 修改</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#re-split-应用"><span class="toc-number">6.1.</span> <span class="toc-text">re.split()应用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#re-sub-正则替换"><span class="toc-number">6.2.</span> <span class="toc-text">re.sub() 正则替换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#re-subn"><span class="toc-number">6.3.</span> <span class="toc-text">re.subn()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tips"><span class="toc-number">7.</span> <span class="toc-text">Tips</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#附录"><span class="toc-number"></span> <span class="toc-text">附录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#re-VERBOSE-正则表达式的可读性"><span class="toc-number">1.</span> <span class="toc-text">re.VERBOSE 正则表达式的可读性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#部分替换"><span class="toc-number">2.</span> <span class="toc-text">部分替换</span></a></li></ol>
</div>

      
  

      
<article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2016-10-19T09:51:00.000Z"><a href="/hexo_blog/2016/10/19/Python-Basic-2016-10-19-python-basic-re正则表达/">2016-10-19</a></time>
        
  
    <h1 class="title"><a href="/hexo_blog/2016/10/19/Python-Basic-2016-10-19-python-basic-re正则表达/">python-basic~re正则表达式</a></h1>
  

    </header>

    <div class="entry">
      
          <!--
       
              <div class="openaside"><a class="navbutton" href="#" title="显示目录"></a></div>
<div id="toc" class="toc-aside">
  <strong class="toc-title"> 目录 </strong>
  <strong class="toc-title"> undefined </strong>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#匹配的规则选项"><span class="toc-number">1.</span> <span class="toc-text">匹配的规则选项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#flag语法"><span class="toc-number">1.1.</span> <span class="toc-text">flag语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用限定符及贪婪greedy匹配"><span class="toc-number">2.</span> <span class="toc-text">常用限定符及贪婪greedy匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#贪婪"><span class="toc-number">2.1.</span> <span class="toc-text">贪婪</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#非贪婪"><span class="toc-number">2.2.</span> <span class="toc-text">非贪婪</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#特殊符号的匹配"><span class="toc-number">2.3.</span> <span class="toc-text">特殊符号的匹配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#group-分组匹配"><span class="toc-number">3.</span> <span class="toc-text">group 分组匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#分组的嵌套"><span class="toc-number">3.1.</span> <span class="toc-text">分组的嵌套</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展匹配"><span class="toc-number">3.2.</span> <span class="toc-text">扩展匹配(?...)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#前后相匹配"><span class="toc-number">3.3.</span> <span class="toc-text">前后相匹配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-查找"><span class="toc-number">4.</span> <span class="toc-text">re Function 查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-引用"><span class="toc-number">5.</span> <span class="toc-text">re Function 引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-Function-修改"><span class="toc-number">6.</span> <span class="toc-text">re Function 修改</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#re-split-应用"><span class="toc-number">6.1.</span> <span class="toc-text">re.split()应用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#re-sub-正则替换"><span class="toc-number">6.2.</span> <span class="toc-text">re.sub() 正则替换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#re-subn"><span class="toc-number">6.3.</span> <span class="toc-text">re.subn()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tips"><span class="toc-number">7.</span> <span class="toc-text">Tips</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#附录"><span class="toc-number"></span> <span class="toc-text">附录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#re-VERBOSE-正则表达式的可读性"><span class="toc-number">1.</span> <span class="toc-text">re.VERBOSE 正则表达式的可读性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#部分替换"><span class="toc-number">2.</span> <span class="toc-text">部分替换</span></a></li></ol>
</div>

                  

                  -->
        <p>[Toc]</p>
<ol>
<li><a href="https://docs.python.org/3/howto/regex.html" target="_blank" rel="external">Pythondoc  regex</a></li>
<li><a href="https://docs.python.org/3.5/library/re.html" target="_blank" rel="external">Pythondoc 3p5 re</a></li>
</ol>
<h3 id="匹配的规则选项"><a href="#匹配的规则选项" class="headerlink" title="匹配的规则选项"></a><span id="flag">匹配的规则选项</span></h3><ul>
<li>re.ASCII , A : <code>\w</code>,<code>\b</code>,<code>\s</code>只匹配ASCII字符而不是full unicode。This is only meaningful for Unicode patterns, and is ignored for byte patterns.</li>
<li>re.IGNORECASE , I : 忽略大小写</li>
<li>re.MULTILINE , M : 多行模式的匹配</li>
<li>re.DOTALL , S : dot matches all<ul>
<li><code>.</code>匹配除换行符<code>\n</code>外的人艺字符，如果设置了<code>re.DOTALL</code>模式，将包含匹配换行符</li>
</ul>
</li>
<li>re.VERBOSE , X : 忽略正则表达式中的空白，换行，方便添加注释#，正则表达式的可读性, <a href="#jump">例子</a></li>
<li>re.LOCALE , L : 字符集本地化，用于多语言环境</li>
</ul>
<h4 id="flag语法"><a href="#flag语法" class="headerlink" title="flag语法"></a><code>flag</code>语法</h4><ul>
<li><code>re.complie(stringPattern [,flag])</code> : <code>flag</code> -&gt; <code>re.I|re.M</code><ul>
<li>Ex : <code>re.compile(&quot;pattern&quot;, re.I|re.M)</code> 该写法与 <code>re.complie(&quot;(?im)pattern&quot;)</code> 等价</li>
<li>Ex : <code>re.match(&quot;(?im)pattern&quot;, string )</code>与<code>re.match(&quot;pattern&quot;, string , re.I|re.M)</code>等价</li>
</ul>
</li>
</ul>
<h3 id="常用限定符及贪婪greedy匹配"><a href="#常用限定符及贪婪greedy匹配" class="headerlink" title="常用限定符及贪婪greedy匹配"></a>常用限定符及贪婪greedy匹配</h3><h4 id="贪婪"><a href="#贪婪" class="headerlink" title="贪婪"></a>贪婪</h4><ul>
<li><code>&#39;*&#39;</code> 匹配0次或多次<br>  Causes the resulting RE to match 0 or more repetitions of the preceding RE, as many repetitions as are possible. ab* will match ‘a’, ‘ab’, or ‘a’ followed by any number of ‘b’ s.</li>
<li><code>&#39;+&#39;</code> 匹配1次或多次<br>  Causes the resulting RE to match 1 or more repetitions of the preceding RE. ab+ will match ‘a’ followed by any non-zero number of ‘b’s; it will not match just ‘a’.</li>
<li><code>&#39;?&#39;</code> 匹配0次或1次<br>  Causes the resulting RE to match 0 or 1 repetitions of the preceding RE. ab? will match either ‘a’ or ‘ab’.</li>
<li><code>{m}</code> 重复每次</li>
<li><code>{m,n}</code>,<code>{,n}</code>,<code>{m,}</code> 重复m次到n次；重复0到n次；重复m到多次。</li>
</ul>
<h4 id="非贪婪"><a href="#非贪婪" class="headerlink" title="非贪婪"></a>非贪婪</h4><ul>
<li><code>*?, +?, ??</code> 尽可能少的匹配<br>The<code>&#39;*&#39;</code>,<code>&#39;+&#39;</code>, and <code>&#39;?&#39;</code> qualifiers are <strong>all greedy</strong>; they match as much text as possible. Sometimes this behaviour isn’t desired; if the RE <code>&lt;.*&gt;</code> is matched against <code>b</code>, it will match the entire string, and not just <code>`. Adding</code>?<code>after the qualifier makes it perform the match in non-greedy or minimal fashion; as few characters as possible will be matched. Using the RE</code>&lt;.*?&gt;<code>will match only</code> `.</li>
<li><code>{m,n}?</code></li>
</ul>
<h4 id="特殊符号的匹配"><a href="#特殊符号的匹配" class="headerlink" title="特殊符号的匹配"></a>特殊符号的匹配</h4><ul>
<li>括号<code>()</code>的匹配<br>to match the literals ‘(‘ or ‘)’, use <code>\(</code> or <code>\)</code>, or enclose them inside a character class: <code>[(]</code> <code>[)]</code>.</li>
<li>中括号<code>[]</code>的匹配<br>同<code>()</code>，使用<code>\[ \]</code>来匹配</li>
</ul>
<h3 id="group-分组匹配"><a href="#group-分组匹配" class="headerlink" title="group 分组匹配"></a>group 分组匹配</h3><p>对立项</p>
<ul>
<li><code>(...)</code>对正则表达式进行分组，一个括号一组(group)，在match后能够通过类似<code>\1</code>的方式retrieved</li>
<li><code>(?:...)</code>对正则表达式进行分组，与<code>(...)</code>对立，不能retrieved</li>
<li><code>(?...)</code>，举例说明，<code>(?aiLmsux)</code>，该格式适用于在将<code>flag</code>写在<code>pattern</code>的表达式中。<a href="#flag">匹配规则</a></li>
</ul>
<ul>
<li><code>(?#...)</code> 正则表达式中的注释。不起作用，be ingored</li>
</ul>
<h4 id="分组的嵌套"><a href="#分组的嵌套" class="headerlink" title="分组的嵌套"></a>分组的嵌套</h4><blockquote>
<p>Subgroups are numbered from left to right, from 1 upward. Groups can be nested; to determine the number, just count the opening parenthesis characters, going from left to right.</p>
</blockquote>
<p>分组的顺序，从左到右，按左括号的顺序来引来retrieved<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>p = re.compile(<span class="string">'(a(b)c)d'</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m = p.match(<span class="string">'abcd'</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m.group(<span class="number">0</span>)</div><div class="line"><span class="string">'abcd'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m.group(<span class="number">1</span>)</div><div class="line"><span class="string">'abc'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m.group(<span class="number">2</span>)</div><div class="line"><span class="string">'b'</span></div></pre></td></tr></table></figure></p>
<h4 id="扩展匹配"><a href="#扩展匹配" class="headerlink" title="扩展匹配(?...)"></a>扩展匹配<code>(?...)</code></h4><ul>
<li><code>(?P&lt;name&gt;...)</code> 给正则表达式的分组命令，名字为<code>name</code>，可通过<code>m.group(&#39;name&#39;)</code>或<code>\g&lt;name&gt;</code>引用retrieved<ul>
<li><code>(?P=name)</code> 使用名字为name的分组</li>
</ul>
</li>
</ul>
<p>注：此匹配的格式为python中的写法</p>
<h4 id="前后相匹配"><a href="#前后相匹配" class="headerlink" title="前后相匹配"></a>前后相匹配</h4><ul>
<li><code>(?=...)</code> : a lookahead assertion，<code>Isaac(?=Asimov)</code> 将匹配<code>IsaacAsimov</code>中的<code>Isaac</code></li>
<li><code>(?&lt;=...)</code> : a postive lookbehind assertion，<code>(?&lt;=abc)def</code>将匹配<code>abcdef</code>中的<code>def</code></li>
<li><code>(?!=...)</code> : a negetive lookbehind assertion，与<code>(?=&lt;...)</code>相反</li>
</ul>
<h3 id="re-Function-查找"><a href="#re-Function-查找" class="headerlink" title="re Function 查找"></a>re Function 查找</h3><table>
<thead>
<tr>
<th>Method/Attribute</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>match()</td>
<td>Determine if the RE matches at the beginning of the string.</td>
</tr>
<tr>
<td>search()</td>
<td>Scan through a string, looking for any location where this RE matches.</td>
</tr>
<tr>
<td>findall()</td>
<td>Find all substrings where the RE matches, and returns them as <strong>a list</strong>.</td>
</tr>
<tr>
<td>finditer()</td>
<td>Find all substrings where the RE matches, and returns them as <strong>an iterator</strong>.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>match() will only report a successful match which will start at 0;<br>if the match wouldn’t start at zero, match() will not report it.</p>
</blockquote>
<p><code>match()</code>方法只从字符串的开始位置开始匹配，而<code>search()</code>方法会向后搜索。</p>
<h3 id="re-Function-引用"><a href="#re-Function-引用" class="headerlink" title="re Function 引用"></a>re Function 引用</h3><table>
<thead>
<tr>
<th>Method/Attribute</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>group()</td>
<td>Return the string matched by the RE</td>
</tr>
<tr>
<td>start()</td>
<td>Return the starting position of the match</td>
</tr>
<tr>
<td>end()</td>
<td>Return the ending position of the match</td>
</tr>
<tr>
<td>span()</td>
<td>Return a tuple containing the (start, end) positions of the match</td>
</tr>
</tbody>
</table>
<h3 id="re-Function-修改"><a href="#re-Function-修改" class="headerlink" title="re Function 修改"></a>re Function 修改</h3><table>
<thead>
<tr>
<th>Method/Attribute</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>split()</td>
<td>Split the string into a list, splitting it wherever the RE matches</td>
</tr>
<tr>
<td>sub()</td>
<td>Find all substrings where the RE matches, and replace them with a different string</td>
</tr>
<tr>
<td>subn()</td>
<td>Does the same thing as sub(), but returns the new string and the number of replacements</td>
</tr>
</tbody>
</table>
<h4 id="re-split-应用"><a href="#re-split-应用" class="headerlink" title="re.split()应用"></a>re.split()应用</h4><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> re</div><div class="line"><span class="comment"># 多行模式，^和$匹配每一行的行首与行末</span></div><div class="line">note_sep = re.compile(<span class="string">r"^-&#123;3,&#125;$"</span>, re.M)</div><div class="line">config = note_sep.split(<span class="string">"h1\nh2\nh3\n---\n###beging\n"</span>)</div></pre></td></tr></table></figure>
<h4 id="re-sub-正则替换"><a href="#re-sub-正则替换" class="headerlink" title="re.sub() 正则替换"></a>re.sub() 正则替换</h4><p>语法格式：<code>re.sub(pattern, repl, string, count=0, flags=0)</code></p>
<ul>
<li>使用repl替换string中每一个匹配的子串后返回替换后的字符串。 </li>
<li>当repl是一个字符串时，可以使用<code>\id</code>或<code>\g&lt;id&gt;</code>、<code>\g&lt;name&gt;</code>引用分组，但不能使用编号0。 </li>
<li>当repl是一个方法时，这个方法应当只接受一个参数（Match对象），并返回一个字符串用于替换（返回的字符串中不能再引用分组）。</li>
<li><p>count用于指定最多替换次数，不指定时全部替换。 </p>
</li>
<li><p>官网例子，将两个横杆替换成一个横杆，一个横杠替换成空格</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">dashrepl</span><span class="params">(matchobj)</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">if</span> matchobj.group(<span class="number">0</span>) == <span class="string">'-'</span>: <span class="keyword">return</span> <span class="string">' '</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">else</span>: <span class="keyword">return</span> <span class="string">'-'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>re.sub(<span class="string">'-&#123;1,2&#125;'</span>, dashrepl, <span class="string">'pro----gram-files'</span>)</div><div class="line"><span class="string">'pro--gram files'</span></div></pre></td></tr></table></figure>
</li>
<li><p>带参数的回调函数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="comment"># 替换时考虑大小写的同步替换</span></div><div class="line">text = <span class="string">'UPPER PYTHON, lower python, Mixed Python'</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">matchcase</span><span class="params">(word)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">replace</span><span class="params">(m)</span>:</span></div><div class="line">        text = m.group(<span class="number">0</span>)</div><div class="line">        <span class="keyword">if</span> text.isupper():</div><div class="line">            <span class="keyword">return</span> word.upper()</div><div class="line">        <span class="keyword">elif</span> text.islower():</div><div class="line">            <span class="keyword">return</span> word.lower()</div><div class="line">        <span class="keyword">elif</span> text[<span class="number">0</span>].isupper():</div><div class="line">            <span class="keyword">return</span> word.capitalize()</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">return</span> word</div><div class="line">    <span class="keyword">return</span> replace</div><div class="line">sub_text = re.sub(<span class="string">"python"</span>, matchcase(<span class="string">"sneak"</span>), text, flags=re.IGNORECASE)</div><div class="line">print(sub_text)</div><div class="line"><span class="comment"># UPPER SNEAK, lower sneak, Mixed Sneak</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="re-subn"><a href="#re-subn" class="headerlink" title="re.subn()"></a>re.subn()</h4><p>与<code>re.sub()</code>干一样的活，返回替换后的字符串与替换的数量的元组</p>
<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><ol>
<li><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> re</div><div class="line"> </div><div class="line">p = re.compile(<span class="string">r'(\w+) (\w+)'</span>)</div><div class="line">s = <span class="string">'i say, hello world!'</span></div><div class="line"></div><div class="line"><span class="keyword">print</span> p.sub(<span class="string">r'\2 \1'</span>, s)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(m)</span>:</span></div><div class="line">  <span class="keyword">return</span> m.group(<span class="number">1</span>).title() + <span class="string">' '</span> + m.group(<span class="number">2</span>).title()</div><div class="line"></div><div class="line"><span class="keyword">print</span> p.sub(func, s)</div><div class="line">  </div><div class="line"><span class="comment">### output ###</span></div><div class="line"><span class="comment"># say i, world hello!</span></div><div class="line"><span class="comment"># I Say, Hello World!</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="re-VERBOSE-正则表达式的可读性"><a href="#re-VERBOSE-正则表达式的可读性" class="headerlink" title="re.VERBOSE 正则表达式的可读性"></a>re.VERBOSE 正则表达式的可读性</h3><p><span id="jump">re.VERBOSE 正则表达式的可读性</span></p>
<p>参考链接<a href="https://docs.python.org/3/howto/regex.html#using-re-verbose" target="_blank" rel="external">Pythondoc  regex</a><br>The re.VERBOSE flag has several effects. Whitespace in the regular expression that isn’t inside a character class is ignored. This means that an expression such as dog | cat is equivalent to the less readable dog|cat, but [a b] will still match the characters ‘a’, ‘b’, or a space. In addition, you can also put comments inside a RE; comments extend from a # character to the next newline. When used with triple-quoted strings, this enables REs to be formatted more neatly:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line">pat = re.compile(<span class="string">r"""</span></div><div class="line">  \s*                 # Skip leading whitespace</div><div class="line">  (?P&lt;header&gt;[^:]+)   # Header name</div><div class="line">  \s* :               # Whitespace, and a colon</div><div class="line">  (?P&lt;value&gt;.*?)      # The header's value -- *? used to</div><div class="line">                      # lose the following trailing whitespace</div><div class="line">  \s*$                # Trailing whitespace to end-of-line</div><div class="line">""", re.VERBOSE)</div></pre></td></tr></table></figure>
<p>This is far more readable than:<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line">pat = re.compile(<span class="string">r"\s*(?P&lt;header&gt;[^:]+)\s*:(?P&lt;value&gt;.*?)\s*$"</span>)</div></pre></td></tr></table></figure></p>
<h3 id="部分替换"><a href="#部分替换" class="headerlink" title="部分替换"></a>部分替换</h3><p>This example matches the word <code>section</code> followed by a string enclosed in <code>{</code>, <code>}</code>, and changes <code>section</code> to <code>subsection:</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; p = re.compile(<span class="string">'section&#123; ( [^&#125;]* ) &#125;'</span>, re.VERBOSE)</div><div class="line">&gt;&gt;&gt; p.sub(r<span class="string">'subsection&#123;\1&#125;'</span>,<span class="string">'section&#123;First&#125; section&#123;second&#125;'</span>)</div><div class="line"><span class="string">'subsection&#123;First&#125; subsection&#123;second&#125;'</span></div></pre></td></tr></table></figure>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



    	
 
<nav id="pagination">
  
    <a href="/hexo_blog/page/3/" class="alignleft prev">上一页</a>
  
  
    <a href="/hexo_blog/page/5/" class="alignright next">下一页</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
        <aside id="sidebar" class="alignright">

   <div class="search">
  <form action="//baidu.com/s" method="get" accept-charset="utf-8">
    <input type="search" name="wd"results="0" placeholder="搜索">
    <input type="hidden" name="wd" value="site:ywlbupt.github.com/hexo_blog">
  </form>
</div> 


  
<div class="widget tag">
  <h3 class="title" id="categories">分类</h3>
<!--   
	
		<li><a class = "list-2"href="/hexo_blog/categories/Ubuntu/Basic/">Basic</a><small>2</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Python/Basic/">Basic</a><small>10</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Ubuntu/Cmd/">Cmd</a><small>8</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Diary/">Diary</a><small>1</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/Gallery/">Gallery</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Iterator/Generator/">Generator</a><small>1</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Git/">Git</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Markdown/Hexo/">Hexo</a><small>3</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Ubuntu/IDE/">IDE</a><small>3</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Iterator/">Iterator</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Python/Lib/">Lib</a><small>5</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Markdown/">Markdown</a><small>3</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/Network/">Network</a><small>1</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Vim/Plugin/">Plugin</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Python/">Python</a><small>18</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Python/Python-Basic/">Python_Basic</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Raspberry/">Raspberry</a><small>1</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/SQL/">SQL</a><small>2</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/Network/SSH/">SSH</a><small>1</small></li>
     
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/SQL/Sqlite3/">Sqlite3</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/Ubuntu/">Ubuntu</a><small>13</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/Vim/">Vim</a><small>3</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/python/basic/">basic</a><small>2</small></li>
     
  
	
		<li><a href="/hexo_blog/categories/isinstance/">isinstance</a><small>1</small></li>
	
  
	
		<li><a href="/hexo_blog/categories/python/">python</a><small>2</small></li>
	
  
	
		<li><a class = "list-2"href="/hexo_blog/categories/isinstance/type/">type</a><small>1</small></li>
     
   -->


     <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Diary/">Diary</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Gallery/">Gallery</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Iterator/">Iterator</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Iterator/Generator/">Generator</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Markdown/">Markdown</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Markdown/Hexo/">Hexo</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Network/">Network</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Network/SSH/">SSH</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/">Python</a><span class="category-list-count">18</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/Basic/">Basic</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/Lib/">Lib</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Python/Python-Basic/">Python_Basic</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Raspberry/">Raspberry</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/SQL/">SQL</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/SQL/Sqlite3/">Sqlite3</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/">Ubuntu</a><span class="category-list-count">13</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/Basic/">Basic</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/Cmd/">Cmd</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Ubuntu/IDE/">IDE</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Vim/">Vim</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/Vim/Plugin/">Plugin</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/isinstance/">isinstance</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/isinstance/type/">type</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/python/">python</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexo_blog/categories/python/basic/">basic</a><span class="category-list-count">2</span></li></ul></li></ul> 
</div>
 


  <div class="widget tag">
  <h3 class="title">日历云</h3>
  <div id="calendar"></div>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/hexo_blog/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/hexo_blog/tags/Zhihu/" style="font-size: 10px;">Zhihu</a> <a href="/hexo_blog/tags/ansible/" style="font-size: 10px;">ansible</a> <a href="/hexo_blog/tags/cmd/" style="font-size: 10px;">cmd</a> <a href="/hexo_blog/tags/codecs/" style="font-size: 10px;">codecs</a> <a href="/hexo_blog/tags/const/" style="font-size: 10px;">const</a> <a href="/hexo_blog/tags/dd/" style="font-size: 10px;">dd</a> <a href="/hexo_blog/tags/deb/" style="font-size: 10px;">deb</a> <a href="/hexo_blog/tags/df/" style="font-size: 10px;">df</a> <a href="/hexo_blog/tags/ejs引擎/" style="font-size: 10px;">ejs引擎</a> <a href="/hexo_blog/tags/escape/" style="font-size: 10px;">escape</a> <a href="/hexo_blog/tags/fdisk/" style="font-size: 10px;">fdisk</a> <a href="/hexo_blog/tags/find/" style="font-size: 10px;">find</a> <a href="/hexo_blog/tags/git/" style="font-size: 16.67px;">git</a> <a href="/hexo_blog/tags/grep/" style="font-size: 10px;">grep</a> <a href="/hexo_blog/tags/hexo/" style="font-size: 13.33px;">hexo</a> <a href="/hexo_blog/tags/hosts/" style="font-size: 10px;">hosts</a> <a href="/hexo_blog/tags/jacman/" style="font-size: 13.33px;">jacman</a> <a href="/hexo_blog/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/hexo_blog/tags/json/" style="font-size: 10px;">json</a> <a href="/hexo_blog/tags/object/" style="font-size: 10px;">object</a> <a href="/hexo_blog/tags/os/" style="font-size: 10px;">os</a> <a href="/hexo_blog/tags/python/" style="font-size: 20px;">python</a> <a href="/hexo_blog/tags/shutdown/" style="font-size: 10px;">shutdown</a> <a href="/hexo_blog/tags/snippets/" style="font-size: 10px;">snippets</a> <a href="/hexo_blog/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/hexo_blog/tags/string/" style="font-size: 10px;">string</a> <a href="/hexo_blog/tags/tmux/" style="font-size: 10px;">tmux</a> <a href="/hexo_blog/tags/tutorial/" style="font-size: 10px;">tutorial</a> <a href="/hexo_blog/tags/type/" style="font-size: 10px;">type</a> <a href="/hexo_blog/tags/vim/" style="font-size: 13.33px;">vim</a> <a href="/hexo_blog/tags/wrapper/" style="font-size: 10px;">wrapper</a> <a href="/hexo_blog/tags/yaml/" style="font-size: 10px;">yaml</a> <a href="/hexo_blog/tags/zt/" style="font-size: 10px;">zt</a> <a href="/hexo_blog/tags/人工置顶/" style="font-size: 10px;">人工置顶</a> <a href="/hexo_blog/tags/科学上网/" style="font-size: 10px;">科学上网</a>
  </div>
</div>


</aside>

      <div class="clearfix"></div>
    </div>
  
  <footer id="footer"><div class="footer-content inner">
  <div class="alignleft">
  
    &copy; 2017 Wlin
    
  </div>
  <div class="alignright">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme
    <a href="https://github.com/pengloo53/Hexo-theme-light_cn">light_cn</a>
  </div>
  
  <div class="visit">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
  </div>
  
  <div class="clearfix"></div>
</div></footer>
  <script src="http://libs.baidu.com/jquery/2.1.1/jquery.min.js"></script>
<script src="/hexo_blog/js/jquery.imagesloaded.min.js"></script>
<script src="/hexo_blog/js/gallery.js"></script>

<!-- add calendar widget -->

  <script src="/hexo_blog/js/calendar.js"></script>
  <script src="/hexo_blog/js/languages.js"></script>
  <script type="text/javascript">
    $(function() {
    
      $('#calendar').aCalendar('zh-CN',{single:undefined, root:'calendar'});
    
    });
  </script>


<!-- 添加『不蒜子』计数服务 -->
<script async src="http://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<div id="toTop">
	<a href="#">▲</a>
	<a href="#footer">▼</a>
</div>


<!-- 目录与分类的切换按钮 -->
<script type="text/javascript">
$(document).ready(function(){ 
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#sidebar'),
      c = $('.closeaside'),
      o = $('.openaside');
      t = $('#toc.toc-aside')
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    // t.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    t.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>



</body>
</html>


